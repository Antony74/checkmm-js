var checkmm=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){var r,n,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=a(h);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function d(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new v(t,e)),1!==c.length||f||a(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.readTokensAsync=function(t,e){var r=this;this.mmFileNames.has(t)?e(""):(this.mmFileNames.add(t),fetch(t).then(function(t){return t.text()}).then(function(t){for(var n,o=!1,s=!1,i="",a="";a=(n=r.nexttoken(t)).token,t=n.input,a.length;)if(o){if("$)"===a){o=!1;continue}if(-1!==a.indexOf("$("))return void e("Characters $( found in a comment");if(-1!==a.indexOf("$)"))return void e("Characters $) found in a comment")}else if("$("!==a)if(s){if(i.length){if("$]"!==a)return void e("Didn't find closing file inclusion delimiter");if(!r.readtokens(i))return;s=!1,i="";continue}if(-1!==a.indexOf("$"))return void e("Filename "+a+" contains a $");i=a}else"$["!==a?r.tokens.push(a):s=!0;else o=!0;e(o?"Unclosed comment":s?"Unfinished file inclusion command":"")}))},e}(r(2).CheckMM);e.CheckMMex=s},function(t,e,r){"use strict";(function(t,n){var o,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c,f=a(r(3)),l=a(r(4)),h=u(r(5));function p(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}!function(t){t.isupper=function(t){return!/[^A-Z]/.test(t)},t.isalnum=function(t){return!/[^a-zA-Z0-9]/.test(t)},t.set_intersection=function(t,e){var r=new Set;return t.forEach(function(t){e.has(t)&&r.add(t)}),r};var e=function(){return function(){}}();t.Pair=e}(c=e.std||(e.std={}));var v=function(){return function(){this.hypotheses=[],this.disjvars=[],this.expression=[]}}();e.Assertion=v;var d=function(){return function(){this.activevariables=new Set,this.activehyp=[],this.disjvars=[],this.floatinghyp={}}}();e.Scope=d;var y=function(){return function(){this.tokens=[],this.constants=[],this.hypotheses={},this.variables=new Set,this.assertions={},this.scopes=[],this.nProofCount=0,this.nProofLimit=Number.MAX_SAFE_INTEGER,this.mmFileNames=new Set}}();e.State=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.setState=function(t){var e=this,r=new y,n=i({},r,h.default(t));Object.keys(n).forEach(function(t){e[t]=n[t]})},e.prototype.getState=function(){var t=this,e=new y;return Object.keys(e).forEach(function(r){e[r]=t[r]}),h.default(e)},e.prototype.labelused=function(t){return!(!this.hypotheses[t]&&!this.assertions[t])},e.prototype.getfloatinghyp=function(t){for(var e=0;e<this.scopes.length;++e){var r=this.scopes[e].floatinghyp[t];if(void 0!==r)return r}return""},e.prototype.isactivevariable=function(t){for(var e=0;e<this.scopes.length;++e)if(this.scopes[e].activevariables.has(t))return!0;return!1},e.prototype.isactivehyp=function(t){for(var e=0;e<this.scopes.length;++e)if(void 0!==this.scopes[e].activehyp.find(function(e){return e===t}))return!0;return!1},e.prototype.isdvr=function(t,e){if(t===e)return!1;for(var r=0;r<this.scopes.length;++r)for(var n=this.scopes[r],o=0;o!==n.disjvars.length;++o){var s=n.disjvars[o];if(s.has(t)&&s.has(e))return!0}return!1},e.prototype.ismmws=function(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t},e.prototype.islabeltoken=function(t){for(var e=0;e<t.length;++e){var r=t[e];if(!c.isalnum(r)&&"."!==r&&"-"!==r&&"_"!==r)return!1}return!0},e.prototype.ismathsymboltoken=function(t){return-1===t.indexOf("$")},e.prototype.containsonlyupperorq=function(t){for(var e=0;e<t.length;++e){var r=t[e];if(!c.isupper(r)&&"?"!==r)return!1}return!0},e.prototype.nexttoken=function(t){for(var e=null,r="";t.length&&(e=t[0],t=t.slice(1),null!==e&&this.ismmws(e)););for(null!==e&&(t=e+t);t.length&&(e=t[0],t=t.slice(1),null!==e&&!this.ismmws(e));){if(e<"!"||e>"~")return console.error("Invalid character read with code "+e.charCodeAt(0)),{token:"",input:t};r+=e}return{token:r,input:t}},e.prototype.readtokens=function(t){var e;if(this.mmFileNames.has(t))return!0;this.mmFileNames.add(t);for(var r=f.readFileSync(t,{encoding:"utf8"}),n=!1,o=!1,s="",i="";i=(e=this.nexttoken(r)).token,r=e.input,i.length;)if(n){if("$)"===i){n=!1;continue}if(-1!==i.indexOf("$("))return console.error("Characters $( found in a comment"),!1;if(-1!==i.indexOf("$)"))return console.error("Characters $) found in a comment"),!1}else if("$("!==i)if(o){if(s.length){if("$]"!==i)return console.error("Didn't find closing file inclusion delimiter"),!1;if(!this.readtokens(s))return!1;o=!1,s="";continue}if(-1!==i.indexOf("$"))return console.error("Filename "+i+" contains a $"),!1;s=i}else"$["!==i?this.tokens.push(i):o=!0;else n=!0;return n?(console.error("Unclosed comment"),!1):!o||(console.error("Unfinished file inclusion command"),!1)},e.prototype.constructassertion=function(t,e){var r=new v;r.expression=e;for(var n=new Set,o=0;o<e.length;++o){var s=e[o];this.variables.has(s)&&n.add(s)}for(var i=this.scopes.length-1;i>=0;--i){var a=this.scopes[i].activehyp;for(o=a.length-1;o>=0;--o){var u=this.hypotheses[a[o]];if(u.second&&n.has(u.first[1]))r.hypotheses.unshift(a[o]);else if(!u.second){r.hypotheses.unshift(a[o]);for(var f=0;f<u.first.length;++f)this.variables.has(u.first[f])&&n.add(u.first[f])}}}for(i=0;i<this.scopes.length;++i)for(var l=this.scopes[i].disjvars,h=function(t){var e=[];c.set_intersection(l[t],n).forEach(function(t){e.push(t)});for(var o=0;o<e.length;++o)for(var s=o+1;s<e.length;++s)r.disjvars.push([e[o],e[s]])},p=0;p<l.length;++p)h(p);return this.assertions[t]=r,r},e.prototype.readexpression=function(t,e,r){var n=[];if(!this.tokens.length)return console.error("Unfinished $"+t+" statement "+e),null;var o=this.tokens[0];if(void 0===this.constants.find(function(t){return o===t}))return console.error("First symbol in $"+t+" statement "+e+" is "+o+" which is not a constant"),null;this.tokens.shift(),n.push(o);for(var s=function(){var o=i.tokens.shift();return o===r?"break":void 0===i.constants.find(function(t){return t===o})&&0===i.getfloatinghyp(o).length?(console.error("In $"+t+" statement "+e+" token "+o+" found which is not a constant or variable in an active $f statement"),{value:null}):void n.push(o)},i=this;this.tokens.length;){var a=s();if("object"==typeof a)return a.value;if("break"===a)break}return this.tokens.length?n:(console.error("Unfinished $"+t+" statement "+e),null)},e.prototype.makesubstitution=function(t,e){for(var r=[],n=0;n<t.length;++n){var o=e[t[n]];void 0===o?r.push(t[n]):r=r.concat(o)}return r},e.prototype.getproofnumbers=function(t,e){for(var r=[],n=0,o=!1,s=0;s<e.length;++s)if(e[s]<="T"){var i=e.charCodeAt(s)-("A".charCodeAt(0)-1);if(n>Number.MAX_SAFE_INTEGER/20||20*n>Number.MAX_SAFE_INTEGER-i)return console.error("Overflow computing numbers in compressed proof of "+t),null;r.push(20*n+i),n=0,o=!0}else if(e[s]<="Y"){i=e.charCodeAt(s)-"T".charCodeAt(0);if(n>Number.MAX_SAFE_INTEGER/5||5*n>Number.MAX_SAFE_INTEGER-i)return console.error("Overflow computing numbers in compressed proof of "+t),null;n=5*n+i,o=!1}else{if(!o)return console.error("Stray Z found in compressed proof of "+t),null;r.push(0),o=!1}return 0!==n?(console.error("Compressed proof of theorem "+t+" ends in unfinished number"),null):r},e.prototype.verifyassertionref=function(t,e,r){var n=this.assertions[e];if(!n)return console.error("In proof of theorem "+t+" assertion "+e+" is undefined"),null;if(r.length<n.hypotheses.length)return console.error("In proof of theorem "+t+" not enough items found on stack"),null;for(var o=r.length-n.hypotheses.length,s={},i=0;i<n.hypotheses.length;++i){var a=this.hypotheses[n.hypotheses[i]];if(!a)return console.error("In proof of theorem "+t+" hypothesis "+n.hypotheses[i]+" is undefined"),null;if(a.second){if(a.first[0]!==r[o+i][0])return console.error("In proof of theorem "+t+" unification failed"),null;var u=r[o+i].slice(1);s[a.first[1]]=u}else{if(!p(this.makesubstitution(a.first,s),r[o+i]))return console.error("In proof of theorem "+t+" unification failed"),null}}r=r.slice(0,o);for(var c=0;c<n.disjvars.length;++c){for(var f=s[n.disjvars[c][0]],l=s[n.disjvars[c][1]],h=[],v=0;v<f.length;++v)this.variables.has(f[v])&&h.push(f[v]);for(var d=[],y=0;y<l.length;++y)this.variables.has(l[y])&&d.push(l[y]);for(v=0;v<h.length;++v)for(y=0;y<d.length;++y)if(!this.isdvr(h[v],d[y]))return console.error("In proof of theorem "+t+" disjoint variable restriction violated"),null}var m=this.makesubstitution(n.expression,s);return r.push(m),r},e.prototype.verifyregularproof=function(t,e,r){for(var n=[],o=0;o<r.length;++o){var s=this.hypotheses[r[o]];if(s)n.push(s.first);else if(null===(n=this.verifyassertionref(t,r[o],n)))return!1}return 1!==n.length?(console.error("Proof of theorem "+t+" does not end with only one item on the stack"),!1):!!p(n[0],e.expression)||(console.error("Proof of theorem "+t+" proves wrong statement"),!1)},e.prototype.verifycompressedproof=function(t,e,r,n){for(var o=[],s=e.hypotheses.length,i=s+r.length,a=[],u=0;u<n.length;++u)if(0!==n[u])if(n[u]<=s)o.push(this.hypotheses[e.hypotheses[n[u]-1]].first);else if(n[u]<=i){var c=r[n[u]-s-1],f=this.hypotheses[c];if(f){o.push(f.first);continue}if(null===(o=this.verifyassertionref(t,c,o)))return!1}else{if(n[u]>i+a.length)return console.error("Number in compressed proof of "+t+" is too high"),!1;o.push(a[n[u]-i-1])}else a.push(o[o.length-1]);return 1!==o.length?(console.error("Proof of theorem "+t+" does not end with only one item on the stack"),!1):!!p(o[0],e.expression)||(console.error("Proof of theorem "+t+" proves wrong statement"),!1)},e.prototype.parsep=function(t){var e=this.readexpression("p",t,"$=");if(!e)return!1;var r=this.constructassertion(t,e);if(!this.tokens.length)return console.error("Unfinished $p statement "+t),!1;if("("===this.tokens[0]){this.tokens.shift();for(var n=[],o=function(){var e=s.tokens[0];return")"===e?"break":(s.tokens.shift(),n.push(e),e===t?(console.error("Proof of theorem "+t+" refers to itself"),{value:!1}):void 0!==r.hypotheses.find(function(t){return t===e})?(console.error("Compressed proof of theorem "+t+" has mandatory hypothesis "+e+" in label list"),{value:!1}):s.assertions[e]||s.isactivehyp(e)?void 0:(console.error("Proof of theorem "+t+" refers to "+e+" which is not an active statement"),{value:!1}))},s=this;this.tokens.length;){var i=o();if("object"==typeof i)return i.value;if("break"===i)break}if(!this.tokens.length)return console.error("Unfinished $p statement "+t),!1;this.tokens.shift();for(var a="";this.tokens.length;){if("$."===(f=this.tokens[0]))break;if(this.tokens.shift(),a+=f,!this.containsonlyupperorq(f))return console.error("Bogus character found in compressed proof of "+t),!1}if(!this.tokens.length)return console.error("Unfinished $p statement "+t),!1;if(!a.length)return console.error("Theorem "+t+" has no proof"),!1;if(this.tokens.shift(),-1!==a.indexOf("?"))return console.error("Warning: Proof of theorem "+t+" is incomplete"),!0;var u=this.getproofnumbers(t,a);if(!u)return!1;if(!this.verifycompressedproof(t,r,n,u))return!1}else{a=[];for(var c=!1;this.tokens.length;){var f;if("$."===(f=this.tokens[0]))break;if(this.tokens.shift(),a.push(f),"?"===f)c=!0;else{if(f===t)return console.error("Proof of theorem "+t+" refers to itself"),!1;if(!this.assertions[f]&&!this.isactivehyp(f))return console.error("Proof of theorem "+t+" refers to "+f+" which is not an active statement"),!1}}if(!this.tokens.length)return console.error("Unfinished $p statement "+t),!1;if(!a.length)return console.error("Theorem "+t+" has no proof"),!1;if(this.tokens.shift(),c)return console.error("Warning: Proof of theorem "+t+" is incomplete"),!0;if(!this.verifyregularproof(t,r,a))return!1}return!0},e.prototype.parsee=function(t){var e=this.readexpression("e",t,"$.");return!!e&&(this.hypotheses[t]={first:e,second:!1},this.scopes[this.scopes.length-1].activehyp.push(t),!0)},e.prototype.parsea=function(t){var e=this.readexpression("a",t,"$.");return!!e&&(this.constructassertion(t,e),!0)},e.prototype.parsef=function(t){if(!this.tokens.length)return console.error("Unfinished $f statement"+t),!1;var e=this.tokens[0];if(void 0===this.constants.find(function(t){return t===e}))return console.error("First symbol in $f statement "+t+" is "+e+" which is not a constant"),!1;if(this.tokens.shift(),!this.tokens.length)return console.error("Unfinished $f statement"+t),!1;var r=this.tokens[0];if(!this.isactivevariable(r))return console.error("Second symbol in $f statement "+t+" is "+r+" which is not an active variable"),!1;if(this.getfloatinghyp(r).length)return console.error("The variable "+r+" appears in a second $f statement "+t),!1;if(this.tokens.shift(),!this.tokens.length)return console.error("Unfinished $f statement"+t),!1;if("$."!==this.tokens[0])return console.error("Expected end of $f statement "+t+" but found "+this.tokens[0]),!1;this.tokens.shift();var n=[];return n.push(e),n.push(r),this.hypotheses[t]={first:n,second:!0},this.scopes[this.scopes.length-1].activehyp.push(t),this.scopes[this.scopes.length-1].floatinghyp[r]=t,!0},e.prototype.parselabel=function(t){if(void 0!==this.constants.find(function(e){return e===t}))return console.error("Attempt to reuse constant "+t+" as a label"),!1;if(this.variables.has(t))return console.error("Attempt to reuse variable "+t+" as a label"),!1;if(this.labelused(t))return console.error("Attempt to reuse label "+t),!1;if(!this.tokens.length)return console.error("Unfinished labeled statement"),!1;var e=this.tokens.shift(),r=!0;if("$p"===e)r=this.parsep(t),++this.nProofCount;else if("$e"===e)r=this.parsee(t);else if("$a"===e)r=this.parsea(t);else{if("$f"!==e)return console.error("Unexpected token "+e+" encountered"),!1;r=this.parsef(t)}return r},e.prototype.parsed=function(){for(var t=new Set;this.tokens.length;){var e=this.tokens[0];if("$."===e)break;if(this.tokens.shift(),!this.isactivevariable(e))return console.error("Token "+e+" is not an active variable, but was found in a $d statement"),!1;if(t.has(e))return console.error("$d statement mentions "+e+" twice"),!1;t.add(e)}return this.tokens.length?t.size<2?(console.error("Not enough items in $d statement"),!1):(this.scopes[this.scopes.length-1].disjvars.push(t),this.tokens.shift(),!0):(console.error("Unterminated $d statement"),!1)},e.prototype.parsec=function(){if(this.scopes.length>1)return console.error("$c statement occurs in inner block"),!1;for(var t=!0,e=function(){var e=r.tokens[0];return"$."===e?"break":(r.tokens.shift(),t=!1,r.ismathsymboltoken(e)?r.variables.has(e)?(console.error("Attempt to redeclare variable "+e+" as a constant"),{value:!1}):r.labelused(e)?(console.error("Attempt to reuse label "+e+" as a constant"),{value:!1}):void 0!==r.constants.find(function(t){return t===e})?(console.error("Attempt to redeclare constant "+e),{value:!1}):void r.constants.push(e):(console.error("Attempt to declare "+e+" as a constant"),{value:!1}))},r=this;this.tokens.length;){var n=e();if("object"==typeof n)return n.value;if("break"===n)break}return this.tokens.length?t?(console.error("Unterminated $c statement"),!1):(this.tokens.shift(),!0):(console.error("Unterminated $c statement"),!1)},e.prototype.parsev=function(){for(var t=!0,e=function(){var e=r.tokens[0];return"$."===e?"break":(r.tokens.shift(),t=!1,r.ismathsymboltoken(e)?void 0!==r.constants.find(function(t){return t===e})?(console.error("Attempt to redeclare constant "+e+" as a variable"),{value:!1}):r.labelused(e)?(console.error("Attempt to reuse label "+e+" as a variable"),{value:!1}):r.isactivevariable(e)?(console.error("Attempt to redeclare active variable "+e),{value:!1}):(r.variables.add(e),void r.scopes[r.scopes.length-1].activevariables.add(e)):(console.error("Attempt to declare "+e+" as a variable"),{value:!1}))},r=this;this.tokens.length;){var n=e();if("object"==typeof n)return n.value;if("break"===n)break}return this.tokens.length?t?(console.error("Empty $v statement"),!1):(this.tokens.shift(),!0):(console.error("Unterminated $v statement"),!1)},e.prototype.checkmm=function(){for(this.scopes.push(new d);this.tokens.length;){var t=this.tokens.shift(),e=!0;if(this.islabeltoken(t))e=this.parselabel(t);else if("$d"===t)e=this.parsed();else if("${"===t)this.scopes.push(new d);else if("$}"===t){if(this.scopes.pop(),!this.scopes.length)return console.error("$} without corresponding ${"),!1}else if("$c"===t)e=this.parsec();else{if("$v"!==t)return console.error("Unexpected token "+t+" encountered"),!1;e=this.parsev()}if(!e)return!1;if(this.nProofCount>=this.nProofLimit)return console.log("Proof limit reached"),console.log("Successfully verified "+this.nProofCount+" proofs"),!0}return this.scopes.length>1?(console.error("${ without corresponding $}"),!1):(console.log("Successfully verified "+this.nProofCount+" proofs\n"),!0)},e}(y);e.CheckMM=m;var b=1;t.argv.length>=2&&l.basename(t.argv[1])===l.basename(n)&&(t.exitCode=function(t){var e=new m;if(3===t.length){var r=parseInt(t[2],10);r?e.nProofLimit=r:console.error("Invalid proof limit"+t[2]),t.pop()}if(2!==t.length)return console.error("Syntax: node checkmm.js <filename> [<proof-limit>]"),b;e.setState({});var n=e.readtokens(t[1]);return n&&(n=e.checkmm())?0:b}(t.argv.slice(1)))}).call(this,r(0),"/index.js")},function(t,e){},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};function s(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var i=o>=0?arguments[o]:t.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,n="/"===i.charAt(0))}return(n?"/":"")+(e=r(s(e.split("/"),function(t){return!!t}),!n).join("/"))||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===i(t,-1);return(t=r(s(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),s=n(r.split("/")),i=Math.min(o.length,s.length),a=i,u=0;u<i;u++)if(o[u]!==s[u]){a=u;break}var c=[];for(u=a;u<o.length;u++)c.push("..");return(c=c.concat(s.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return o(t)[3]};var i="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(0))},function(t,e,r){(function(t,r){var n=200,o="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",a="[object Boolean]",u="[object Date]",c="[object Function]",f="[object GeneratorFunction]",l="[object Map]",h="[object Number]",p="[object Object]",v="[object RegExp]",d="[object Set]",y="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",g="[object DataView]",_="[object Float32Array]",k="[object Float64Array]",j="[object Int8Array]",w="[object Int16Array]",$="[object Int32Array]",A="[object Uint8Array]",O="[object Uint8ClampedArray]",x="[object Uint16Array]",P="[object Uint32Array]",S=/\w*$/,T=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,M={};M[i]=M["[object Array]"]=M[b]=M[g]=M[a]=M[u]=M[_]=M[k]=M[j]=M[w]=M[$]=M[l]=M[h]=M[p]=M[v]=M[d]=M[y]=M[m]=M[A]=M[O]=M[x]=M[P]=!0,M["[object Error]"]=M[c]=M["[object WeakMap]"]=!1;var U="object"==typeof t&&t&&t.Object===Object&&t,C="object"==typeof self&&self&&self.Object===Object&&self,F=U||C||Function("return this")(),I=e&&!e.nodeType&&e,N=I&&"object"==typeof r&&r&&!r.nodeType&&r,L=N&&N.exports===I;function R(t,e){return t.set(e[0],e[1]),t}function z(t,e){return t.add(e),t}function B(t,e,r,n){var o=-1,s=t?t.length:0;for(n&&s&&(r=t[++o]);++o<s;)r=e(r,t[o],o,t);return r}function D(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function G(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function W(t,e){return function(r){return t(e(r))}}function X(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Z,q=Array.prototype,V=Function.prototype,Y=Object.prototype,H=F["__core-js_shared__"],J=(Z=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",K=V.toString,Q=Y.hasOwnProperty,tt=Y.toString,et=RegExp("^"+K.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=L?F.Buffer:void 0,nt=F.Symbol,ot=F.Uint8Array,st=W(Object.getPrototypeOf,Object),it=Object.create,at=Y.propertyIsEnumerable,ut=q.splice,ct=Object.getOwnPropertySymbols,ft=rt?rt.isBuffer:void 0,lt=W(Object.keys,Object),ht=Nt(F,"DataView"),pt=Nt(F,"Map"),vt=Nt(F,"Promise"),dt=Nt(F,"Set"),yt=Nt(F,"WeakMap"),mt=Nt(Object,"create"),bt=Dt(ht),gt=Dt(pt),_t=Dt(vt),kt=Dt(dt),jt=Dt(yt),wt=nt?nt.prototype:void 0,$t=wt?wt.valueOf:void 0;function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){this.__data__=new Ot(t)}function St(t,e){var r=Wt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Xt(t)}(t)&&Q.call(t,"callee")&&(!at.call(t,"callee")||tt.call(t)==i)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var s in t)!e&&!Q.call(t,s)||o&&("length"==s||zt(s,n))||r.push(s);return r}function Tt(t,e,r){var n=t[e];Q.call(t,e)&&Gt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Et(t,e){for(var r=t.length;r--;)if(Gt(t[r][0],e))return r;return-1}function Mt(t,e,r,n,o,s,T){var E;if(n&&(E=s?n(t,o,s,T):n(t)),void 0!==E)return E;if(!Vt(t))return t;var U=Wt(t);if(U){if(E=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,E)}else{var C=Rt(t),F=C==c||C==f;if(Zt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(C==p||C==i||F&&!s){if(D(t))return s?t:{};if(E=function(t){return"function"!=typeof t.constructor||Bt(t)?{}:(e=st(t),Vt(e)?it(e):{});var e}(F?{}:t),!e)return function(t,e){return Ft(t,Lt(t),e)}(t,function(t,e){return t&&Ft(e,Yt(e),t)}(E,t))}else{if(!M[C])return s?t:{};E=function(t,e,r,n){var o=t.constructor;switch(e){case b:return Ct(t);case a:case u:return new o(+t);case g:return function(t,e){var r=e?Ct(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case _:case k:case j:case w:case $:case A:case O:case x:case P:return function(t,e){var r=e?Ct(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case l:return function(t,e,r){return B(e?r(G(t),!0):G(t),R,new t.constructor)}(t,n,r);case h:case y:return new o(t);case v:return(c=new(i=t).constructor(i.source,S.exec(i))).lastIndex=i.lastIndex,c;case d:return function(t,e,r){return B(e?r(X(t),!0):X(t),z,new t.constructor)}(t,n,r);case m:return s=t,$t?Object($t.call(s)):{}}var s;var i,c}(t,C,Mt,e)}}T||(T=new Pt);var I=T.get(t);if(I)return I;if(T.set(t,E),!U)var N=r?function(t){return function(t,e,r){var n=e(t);return Wt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Yt,Lt)}(t):Yt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(N||t,function(o,s){N&&(o=t[s=o]),Tt(E,s,Mt(o,e,r,n,s,t,T))}),E}function Ut(t){return!(!Vt(t)||(e=t,J&&J in e))&&(qt(t)||D(t)?et:T).test(Dt(t));var e}function Ct(t){var e=new t.constructor(t.byteLength);return new ot(e).set(new ot(t)),e}function Ft(t,e,r,n){r||(r={});for(var o=-1,s=e.length;++o<s;){var i=e[o],a=n?n(r[i],t[i],i,r,t):void 0;Tt(r,i,void 0===a?t[i]:a)}return r}function It(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Nt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ut(r)?r:void 0}At.prototype.clear=function(){this.__data__=mt?mt(null):{}},At.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},At.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===o?void 0:r}return Q.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:Q.call(e,t)},At.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?o:e,this},Ot.prototype.clear=function(){this.__data__=[]},Ot.prototype.delete=function(t){var e=this.__data__,r=Et(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},Ot.prototype.get=function(t){var e=this.__data__,r=Et(e,t);return r<0?void 0:e[r][1]},Ot.prototype.has=function(t){return Et(this.__data__,t)>-1},Ot.prototype.set=function(t,e){var r=this.__data__,n=Et(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},xt.prototype.clear=function(){this.__data__={hash:new At,map:new(pt||Ot),string:new At}},xt.prototype.delete=function(t){return It(this,t).delete(t)},xt.prototype.get=function(t){return It(this,t).get(t)},xt.prototype.has=function(t){return It(this,t).has(t)},xt.prototype.set=function(t,e){return It(this,t).set(t,e),this},Pt.prototype.clear=function(){this.__data__=new Ot},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Ot){var o=r.__data__;if(!pt||o.length<n-1)return o.push([t,e]),this;r=this.__data__=new xt(o)}return r.set(t,e),this};var Lt=ct?W(ct,Object):function(){return[]},Rt=function(t){return tt.call(t)};function zt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function Bt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Y)}function Dt(t){if(null!=t){try{return K.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(ht&&Rt(new ht(new ArrayBuffer(1)))!=g||pt&&Rt(new pt)!=l||vt&&"[object Promise]"!=Rt(vt.resolve())||dt&&Rt(new dt)!=d||yt&&"[object WeakMap]"!=Rt(new yt))&&(Rt=function(t){var e=tt.call(t),r=e==p?t.constructor:void 0,n=r?Dt(r):void 0;if(n)switch(n){case bt:return g;case gt:return l;case _t:return"[object Promise]";case kt:return d;case jt:return"[object WeakMap]"}return e});var Wt=Array.isArray;function Xt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}(t.length)&&!qt(t)}var Zt=ft||function(){return!1};function qt(t){var e=Vt(t)?tt.call(t):"";return e==c||e==f}function Vt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Yt(t){return Xt(t)?St(t):function(t){if(!Bt(t))return lt(t);var e=[];for(var r in Object(t))Q.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}r.exports=function(t){return Mt(t,!0,!0)}}).call(this,r(6),r(7)(t))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGVja21tL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NoZWNrbW0vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovL2NoZWNrbW0vLi9zcmMvY2hlY2ttbWV4LnRzIiwid2VicGFjazovL2NoZWNrbW0vLi9zcmMvY2hlY2ttbS50cyIsIndlYnBhY2s6Ly9jaGVja21tLy4vbm9kZV9tb2R1bGVzL3BhdGgtYnJvd3NlcmlmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jaGVja21tLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC5jbG9uZWRlZXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY2hlY2ttbS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vY2hlY2ttbS8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwicHJvY2VzcyIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImUiLCJ0aGlzIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJsZW5ndGgiLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIkNoZWNrTU1leCIsIl9zdXBlciIsIl9fZXh0ZW5kcyIsInJlYWRUb2tlbnNBc3luYyIsInVybCIsImNhbGxiYWNrIiwiX3RoaXMiLCJtbUZpbGVOYW1lcyIsImhhcyIsImFkZCIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwidGV4dCIsImlucHV0IiwiaW5jb21tZW50IiwiaW5maWxlaW5jbHVzaW9uIiwibmV3ZmlsZW5hbWUiLCJ0b2tlbiIsIl9hIiwibmV4dHRva2VuIiwiaW5kZXhPZiIsInJlYWR0b2tlbnMiLCJ0b2tlbnMiLCJDaGVja01NIiwic3RkIiwiZnMiLCJfX2ltcG9ydFN0YXIiLCJwYXRoIiwibG9kYXNoX2Nsb25lZGVlcF8xIiwiX19pbXBvcnREZWZhdWx0IiwiYXJyYXlzZXF1YWwiLCJhcnIxIiwiYXJyMiIsImlzdXBwZXIiLCJ0ZXN0IiwiaXNhbG51bSIsInNldF9pbnRlcnNlY3Rpb24iLCJzMSIsInMyIiwiczMiLCJTZXQiLCJmb3JFYWNoIiwiUGFpciIsIkFzc2VydGlvbiIsImh5cG90aGVzZXMiLCJkaXNqdmFycyIsImV4cHJlc3Npb24iLCJTY29wZSIsImFjdGl2ZXZhcmlhYmxlcyIsImFjdGl2ZWh5cCIsImZsb2F0aW5naHlwIiwiU3RhdGUiLCJjb25zdGFudHMiLCJ2YXJpYWJsZXMiLCJhc3NlcnRpb25zIiwic2NvcGVzIiwiblByb29mQ291bnQiLCJuUHJvb2ZMaW1pdCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJzZXRTdGF0ZSIsInBhcnRpYWxTdGF0ZSIsImRlZmF1bHRTdGF0ZSIsInN0YXRlIiwiX19hc3NpZ24iLCJkZWZhdWx0Iiwia2V5cyIsImdldFN0YXRlIiwibGFiZWx1c2VkIiwibGFiZWwiLCJnZXRmbG9hdGluZ2h5cCIsInZhcmlhYmxlIiwiblNjb3BlIiwibG9jIiwidW5kZWZpbmVkIiwiaXNhY3RpdmV2YXJpYWJsZSIsInN0ciIsImlzYWN0aXZlaHlwIiwiZmluZCIsImlzZHZyIiwidmFyMSIsInZhcjIiLCJzY29wZSIsIm5EaXNqdmFyIiwiZGlzanZhciIsImlzbW13cyIsImNoIiwiaXNsYWJlbHRva2VuIiwibkNoIiwiaXNtYXRoc3ltYm9sdG9rZW4iLCJjb250YWluc29ubHl1cHBlcm9ycSIsInNsaWNlIiwiY29uc29sZSIsImVycm9yIiwiY2hhckNvZGVBdCIsImZpbGVuYW1lIiwicmVhZEZpbGVTeW5jIiwiZW5jb2RpbmciLCJjb25zdHJ1Y3Rhc3NlcnRpb24iLCJleHAiLCJhc3NlcnRpb24iLCJ2YXJzdXNlZCIsImh5cHZlYyIsImh5cCIsInNlY29uZCIsImZpcnN0IiwidW5zaGlmdCIsIm5FeHByZXNzaW9uIiwibkRpc2p2YXJzIiwiZHNldCIsIm4yIiwicmVhZGV4cHJlc3Npb24iLCJzdGF0dHlwZSIsInRlcm1pbmF0b3IiLCJ0eXBlIiwic2hpZnQiLCJ0aGlzXzEiLCJtYWtlc3Vic3RpdHV0aW9uIiwib3JpZ2luYWwiLCJzdWJzdG1hcCIsImRlc3RpbmF0aW9uIiwic3Vic3RpdHV0aW9uIiwiZ2V0cHJvb2ZudW1iZXJzIiwicHJvb2YiLCJwcm9vZm51bWJlcnMiLCJudW0iLCJqdXN0Z290bnVtIiwiYWRkdmFsIiwidmVyaWZ5YXNzZXJ0aW9ucmVmIiwidGhsYWJlbCIsInJlZmxhYmVsIiwic3RhY2siLCJiYXNlIiwic3Vic3RpdHV0aW9ucyIsImh5cG90aGVzaXMiLCJzdWJzdCIsImV4cDEiLCJleHAyIiwiZXhwMXZhcnMiLCJuRXhwMSIsImV4cDJ2YXJzIiwibkV4cDIiLCJyZXN1bHQiLCJ2ZXJpZnlyZWd1bGFycHJvb2YiLCJ0aGVvcmVtIiwidmVyaWZ5Y29tcHJlc3NlZHByb29mIiwibGFiZWxzIiwibWFuZGh5cHQiLCJsYWJlbHQiLCJzYXZlZHN0ZXBzIiwicHJvb2ZzdGVwIiwicGFyc2VwIiwibmV3dGhlb3JlbSIsInRoaXNfMiIsImluY29tcGxldGUiLCJwYXJzZWUiLCJuZXdoeXAiLCJwYXJzZWEiLCJuZXdheGlvbSIsInBhcnNlZiIsInBhcnNlbGFiZWwiLCJva2F5IiwicGFyc2VkIiwiZHZhcnMiLCJzaXplIiwicGFyc2VjIiwibGlzdGVtcHR5IiwidGhpc18zIiwicGFyc2V2IiwidGhpc180IiwiY2hlY2ttbSIsInBvcCIsImxvZyIsIkVYSVRfRkFJTFVSRSIsImJhc2VuYW1lIiwiX19maWxlbmFtZSIsImV4aXRDb2RlIiwibmV3UHJvb2ZMaW1pdCIsInBhcnNlSW50IiwibWFpbiIsIm5vcm1hbGl6ZUFycmF5IiwicGFydHMiLCJhbGxvd0Fib3ZlUm9vdCIsInVwIiwibGFzdCIsInNwbGljZSIsInNwbGl0UGF0aFJlIiwic3BsaXRQYXRoIiwiZXhlYyIsImZpbHRlciIsInhzIiwiZiIsInJlcyIsInJlc29sdmUiLCJyZXNvbHZlZFBhdGgiLCJyZXNvbHZlZEFic29sdXRlIiwiVHlwZUVycm9yIiwiY2hhckF0Iiwic3BsaXQiLCJqb2luIiwibm9ybWFsaXplIiwiaXNBYnNvbHV0ZSIsInRyYWlsaW5nU2xhc2giLCJzdWJzdHIiLCJwYXRocyIsImluZGV4IiwicmVsYXRpdmUiLCJmcm9tIiwidG8iLCJ0cmltIiwiYXJyIiwic3RhcnQiLCJlbmQiLCJmcm9tUGFydHMiLCJ0b1BhcnRzIiwiTWF0aCIsIm1pbiIsInNhbWVQYXJ0c0xlbmd0aCIsIm91dHB1dFBhcnRzIiwic2VwIiwiZGVsaW1pdGVyIiwiZGlybmFtZSIsInJvb3QiLCJleHQiLCJleHRuYW1lIiwiZ2xvYmFsIiwiTEFSR0VfQVJSQVlfU0laRSIsIkhBU0hfVU5ERUZJTkVEIiwiYXJnc1RhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm9iamVjdFRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJmbG9hdDMyVGFnIiwiZmxvYXQ2NFRhZyIsImludDhUYWciLCJpbnQxNlRhZyIsImludDMyVGFnIiwidWludDhUYWciLCJ1aW50OENsYW1wZWRUYWciLCJ1aW50MTZUYWciLCJ1aW50MzJUYWciLCJyZUZsYWdzIiwicmVJc0hvc3RDdG9yIiwicmVJc1VpbnQiLCJjbG9uZWFibGVUYWdzIiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiYWRkTWFwRW50cnkiLCJtYXAiLCJwYWlyIiwic2V0IiwiYWRkU2V0RW50cnkiLCJhcnJheVJlZHVjZSIsIml0ZXJhdGVlIiwiYWNjdW11bGF0b3IiLCJpbml0QWNjdW0iLCJpc0hvc3RPYmplY3QiLCJ0b1N0cmluZyIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwiZnVuYyIsInRyYW5zZm9ybSIsImFyZyIsInNldFRvQXJyYXkiLCJ1aWQiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0VG9TdHJpbmciLCJyZUlzTmF0aXZlIiwiUmVnRXhwIiwicmVwbGFjZSIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJnZXRQcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwibmF0aXZlR2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVLZXlzIiwiRGF0YVZpZXciLCJnZXROYXRpdmUiLCJNYXAiLCJQcm9taXNlIiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsImRhdGFWaWV3Q3RvclN0cmluZyIsInRvU291cmNlIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsIkhhc2giLCJlbnRyaWVzIiwiY2xlYXIiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU3RhY2siLCJfX2RhdGFfXyIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FycmF5IiwiaXNPYmplY3RMaWtlIiwiaXNBcnJheUxpa2UiLCJpc0FycmF5TGlrZU9iamVjdCIsImlzQXJndW1lbnRzIiwiYmFzZVRpbWVzIiwiU3RyaW5nIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImVxIiwiYXNzb2NJbmRleE9mIiwiYmFzZUNsb25lIiwiaXNEZWVwIiwiaXNGdWxsIiwiY3VzdG9taXplciIsImlzT2JqZWN0IiwiaXNBcnIiLCJjb25zdHJ1Y3RvciIsImluaXRDbG9uZUFycmF5Iiwic291cmNlIiwiY29weUFycmF5IiwidGFnIiwiZ2V0VGFnIiwiaXNGdW5jIiwiYnVmZmVyIiwiY29weSIsImNsb25lQnVmZmVyIiwiaXNQcm90b3R5cGUiLCJwcm90byIsImluaXRDbG9uZU9iamVjdCIsImNvcHlPYmplY3QiLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJiYXNlQXNzaWduIiwiY2xvbmVGdW5jIiwiQ3RvciIsImNsb25lQXJyYXlCdWZmZXIiLCJkYXRhVmlldyIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiY2xvbmVEYXRhVmlldyIsInR5cGVkQXJyYXkiLCJjbG9uZVR5cGVkQXJyYXkiLCJjbG9uZU1hcCIsInJlZ2V4cCIsImxhc3RJbmRleCIsImNsb25lU2V0Iiwic3ltYm9sIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwicHJvcHMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwidmFsdWVzIiwib2Zmc2V0IiwiYXJyYXlQdXNoIiwiYmFzZUdldEFsbEtleXMiLCJnZXRBbGxLZXlzIiwiYXJyYXlFYWNoIiwic3ViVmFsdWUiLCJiYXNlSXNOYXRpdmUiLCJpc0Z1bmN0aW9uIiwiYXJyYXlCdWZmZXIiLCJuZXdWYWx1ZSIsImdldE1hcERhdGEiLCJkYXRhIiwiZ2V0VmFsdWUiLCJoYXNoIiwic3RyaW5nIiwiY2FjaGUiLCJwYWlycyIsIm90aGVyIiwiQXJyYXlCdWZmZXIiLCJjdG9yU3RyaW5nIiwiaXNMZW5ndGgiLCJiYXNlS2V5cyIsImciLCJ3aW5kb3ciLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJjaGlsZHJlbiJdLCJtYXBwaW5ncyI6IndCQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUEwREEsT0FyREFGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMs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QUFzYSxHQUFBeEgsR0FBQXdILEdBQUF2SCxFQTJEQSxTQUFBaUgsR0FBQWhhLEdBQ0EsSUFBQXlMLFNBQUF6TCxFQUNBLFFBQUFBLElBQUEsVUFBQXlMLEdBQUEsWUFBQUEsR0EyREEsU0FBQWhELEdBQUFoSSxHQUNBLE9BQUF3WSxHQUFBeFksR0FBQW9ZLEdBQUFwWSxHQXR1QkEsU0FBQUEsR0FDQSxJQUFBbWEsR0FBQW5hLEdBQ0EsT0FBQTRXLEdBQUE1VyxHQUVBLElBQUE0TSxFQUFBLEdBQ0EsUUFBQS9NLEtBQUFiLE9BQUFnQixHQUNBRyxFQUFBMUIsS0FBQXVCLEVBQUFILElBQUEsZUFBQUEsR0FDQStNLEVBQUF0SyxLQUFBekMsR0FHQSxPQUFBK00sRUE0dEJBdVEsQ0FBQW5kLEdBMENBM0IsRUFBQUQsUUE5VkEsU0FBQW1CLEdBQ0EsT0FBQTRaLEdBQUE1WixHQUFBLGdEQ3QzQ0EsSUFBQTZkLEVBR0FBLEVBQUEsV0FDQSxPQUFBcGMsS0FEQSxHQUlBLElBRUFvYyxLQUFBLElBQUFwSixTQUFBLGlCQUNDLE1BQUFqVCxHQUVELGlCQUFBc2MsU0FBQUQsRUFBQUMsUUFPQWhmLEVBQUFELFFBQUFnZixpQkNuQkEvZSxFQUFBRCxRQUFBLFNBQUFDLEdBb0JBLE9BbkJBQSxFQUFBaWYsa0JBQ0FqZixFQUFBa2YsVUFBQSxhQUNBbGYsRUFBQXFTLE1BQUEsR0FFQXJTLEVBQUFtZixXQUFBbmYsRUFBQW1mLFNBQUEsSUFDQXhlLE9BQUFDLGVBQUFaLEVBQUEsVUFDQWEsWUFBQSxFQUNBQyxJQUFBLFdBQ0EsT0FBQWQsRUFBQUUsS0FHQVMsT0FBQUMsZUFBQVosRUFBQSxNQUNBYSxZQUFBLEVBQ0FDLElBQUEsV0FDQSxPQUFBZCxFQUFBQyxLQUdBRCxFQUFBaWYsZ0JBQUEsR0FFQWpmIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsImltcG9ydCB7Q2hlY2tNTX0gZnJvbSAnLi9jaGVja21tJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVja01NZXggZXh0ZW5kcyBDaGVja01NIHtcclxuXHJcbiAgcmVhZFRva2Vuc0FzeW5jKHVybDogc3RyaW5nLCBjYWxsYmFjazogKGVycm9yOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcclxuXHJcbiAgICBjb25zdCBhbHJlYWR5ZW5jb3VudGVyZWQ6IGJvb2xlYW4gPSB0aGlzLm1tRmlsZU5hbWVzLmhhcyh1cmwpO1xyXG4gICAgaWYgKGFscmVhZHllbmNvdW50ZXJlZCkge1xyXG4gICAgICBjYWxsYmFjaygnJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm1tRmlsZU5hbWVzLmFkZCh1cmwpO1xyXG5cclxuICAgIGZldGNoKHVybCkudGhlbigocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XHJcbiAgICB9KS50aGVuKChpbnB1dDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGxldCBpbmNvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgbGV0IGluZmlsZWluY2x1c2lvbiA9IGZhbHNlO1xyXG4gICAgICBsZXQgbmV3ZmlsZW5hbWU6IHN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgbGV0IHRva2VuOiBzdHJpbmcgPSAnJztcclxuICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAoe3Rva2VuLCBpbnB1dH0gPSB0aGlzLm5leHR0b2tlbihpbnB1dCkpO1xyXG4gICAgICAgIGlmICghdG9rZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmNvbW1lbnQpIHtcclxuICAgICAgICAgIGlmICh0b2tlbiA9PT0gJyQpJykge1xyXG4gICAgICAgICAgICBpbmNvbW1lbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodG9rZW4uaW5kZXhPZignJCgnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soJ0NoYXJhY3RlcnMgJCggZm91bmQgaW4gYSBjb21tZW50Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0b2tlbi5pbmRleE9mKCckKScpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygnQ2hhcmFjdGVycyAkKSBmb3VuZCBpbiBhIGNvbW1lbnQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3QgaW4gY29tbWVudFxyXG4gICAgICAgIGlmICh0b2tlbiA9PT0gJyQoJykge1xyXG4gICAgICAgICAgICBpbmNvbW1lbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmZpbGVpbmNsdXNpb24pIHtcclxuICAgICAgICAgIGlmICghbmV3ZmlsZW5hbWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi5pbmRleE9mKCckJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgY2FsbGJhY2soJ0ZpbGVuYW1lICcgKyB0b2tlbiArICcgY29udGFpbnMgYSAkJyk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld2ZpbGVuYW1lID0gdG9rZW47XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJF0nKSB7XHJcbiAgICAgICAgICAgICAgY2FsbGJhY2soJ0RpZG5cXCd0IGZpbmQgY2xvc2luZyBmaWxlIGluY2x1c2lvbiBkZWxpbWl0ZXInKTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG9rYXk6IGJvb2xlYW4gPSB0aGlzLnJlYWR0b2tlbnMobmV3ZmlsZW5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoIW9rYXkpIHtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5maWxlaW5jbHVzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5ld2ZpbGVuYW1lID0gJyc7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG9rZW4gPT09ICckWycpIHtcclxuICAgICAgICAgIGluZmlsZWluY2x1c2lvbiA9IHRydWU7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2godG9rZW4pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaW5jb21tZW50KSB7XHJcbiAgICAgICAgY2FsbGJhY2soJ1VuY2xvc2VkIGNvbW1lbnQnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpbmZpbGVpbmNsdXNpb24pIHtcclxuICAgICAgICBjYWxsYmFjaygnVW5maW5pc2hlZCBmaWxlIGluY2x1c2lvbiBjb21tYW5kJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjYWxsYmFjaygnJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxufVxyXG5cclxuIiwiLy8gTWV0YW1hdGggZGF0YWJhc2UgdmVyaWZpZXJcclxuLy8gQW50b255IEJhcnRsZXR0IChha2JAYWtiLm1lLnVrKVxyXG4vL1xyXG4vLyBJIHJlbGVhc2UgdGhpcyBjb2RlIHRvIHRoZSBwdWJsaWMgZG9tYWluIHVuZGVyIHRoZVxyXG4vLyBDcmVhdGl2ZSBDb21tb25zIFwiQ0MwIDEuMCBVbml2ZXJzYWxcIiBQdWJsaWMgRG9tYWluIERlZGljYXRpb246XHJcbi8vXHJcbi8vIGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL3B1YmxpY2RvbWFpbi96ZXJvLzEuMC9cclxuLy9cclxuLy8gVGhpcyBpcyBhIHBvcnQgdG8gVHlwZVNjcmlwdC4gIFRoZSBvcmlnaW5hbCBDKysgcHJvZ3JhbSB3YXNcclxuLy8gd3JpdHRlbiBieSBFcmljIFNjaG1pZHQgYW5kIGNhbiBiZSBmb3VuZCBoZXJlOlxyXG4vLyBodHRwOi8vdXMubWV0YW1hdGgub3JnL290aGVyLmh0bWwjY2hlY2ttbVxyXG4vL1xyXG4vLyBUaGlzIGlzIGEgc3RhbmRhbG9uZSB2ZXJpZmllciBmb3IgTWV0YW1hdGggZGF0YWJhc2UgZmlsZXMuXHJcbi8vIFJ1biBpdCB3aXRoIGEgc2luZ2xlIGZpbGUgbmFtZSBhcyB0aGUgcGFyYW1ldGVyLlxyXG4vL1xyXG4vLyBTb21lIG5vdGVzOlxyXG4vL1xyXG4vLyBUaGUgY29kZSBhc3N1bWVzIHRoYXQgdGhlIGNoYXJhY3RlciBzZXQgaXMgY29tcGF0aWJsZSB3aXRoIEFTQ0lJLlxyXG4vL1xyXG4vLyBBY2NvcmRpbmcgdG8gdGhlIHNwZWMsIGZpbGUgaW5jbHVzaW9uIGNvbW1hbmRzIHNob3VsZCBub3QgaW5jbHVkZSBhIGZpbGVcclxuLy8gdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGluY2x1ZGVkLiBVbmZvcnR1bmF0ZWx5LCBkZXRlcm1pbmcgd2hldGhlciB0d29cclxuLy8gZGlmZmVyZW50IHN0cmluZ3MgcmVmZXIgdG8gdGhlIHNhbWUgZmlsZSBpcyBub3QgZWFzeSwgYW5kLCB3b3JzZSwgaXNcclxuLy8gc3lzdGVtLWRlcGVuZGFudC4gVGhpcyBwcm9ncmFtIGlnbm9yZXMgdGhlIGlzc3VlIGVudGlyZWx5IGFuZCBhc3N1bWVzXHJcbi8vIHRoYXQgZGlzdGluY3Qgc3RyaW5ncyBuYW1lIGRpZmZlcmVudCBmaWxlcy4gVGhpcyBzaG91bGQgYmUgYWRlcXVhdGUgZm9yXHJcbi8vIHRoZSBwcmVzZW50LCBhdCBsZWFzdC5cclxuLy9cclxuLy8gSWYgdGhlIHZlcmlmaWVyIGZpbmRzIGFuIGVycm9yLCBpdCB3aWxsIHJlcG9ydCBpdCBhbmQgcXVpdC4gSXQgd2lsbCBub3RcclxuLy8gYXR0ZW1wdCB0byByZWNvdmVyIGFuZCBmaW5kIG1vcmUgZXJyb3JzLiBUaGUgb25seSBjb25kaXRpb24gdGhhdCBnZW5lcmF0ZXNcclxuLy8gYSBkaWFnbm9zdGljIG1lc3NhZ2UgYnV0IGRvZXNuJ3QgaGFsdCB0aGUgcHJvZ3JhbSBpcyBhbiBpbmNvbXBsZXRlIHByb29mLFxyXG4vLyBzcGVjaWZpZWQgYnkgYSBxdWVzdGlvbiBtYXJrLiBJbiB0aGF0IGNhc2UsIGFzIHBlciB0aGUgc3BlYywgYSB3YXJuaW5nIGlzXHJcbi8vIGlzc3VlZCBhbmQgY2hlY2tpbmcgY29udGludWVzLlxyXG4vL1xyXG4vLyBQbGVhc2UgbGV0IG1lIGtub3cgb2YgYW55IGJ1Z3MuXHJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9BbnRvbnk3NC9jaGVja21tLWpzL2lzc3Vlc1xyXG5cclxuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgY2xvbmVEZWVwIGZyb20gJ2xvZGFzaC5jbG9uZWRlZXAnO1xyXG5cclxuLy8gY2hlY2ttbSB1c2VzIGEgbGl0dGxlIGJpdCBvZiBDKysncyBTdGFuZGFyZCBUZW1wbGF0ZSBMaWJyYXJ5LiAgU2ltdWxhdGUgaXQuXHJcbmV4cG9ydCBuYW1lc3BhY2Ugc3RkIHtcclxuXHJcbiAgZXhwb3J0IGZ1bmN0aW9uIGlzdXBwZXIoczogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIC9bXkEtWl0vLnRlc3QocykpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHBvcnQgZnVuY3Rpb24gaXNhbG51bShzOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGlmICggL1teYS16QS1aMC05XS8udGVzdChzKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGV4cG9ydCBmdW5jdGlvbiBzZXRfaW50ZXJzZWN0aW9uPFQ+KHMxOiBTZXQ8VD4sIHMyOiBTZXQ8VD4pOiBTZXQ8VD4ge1xyXG4gICAgY29uc3QgczMgPSBuZXcgU2V0PFQ+KCk7XHJcbiAgICBzMS5mb3JFYWNoKCh2YWx1ZTogVCkgPT4ge1xyXG4gICAgICBpZiAoczIuaGFzKHZhbHVlKSkge1xyXG4gICAgICAgIHMzLmFkZCh2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHMzO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGNsYXNzIFBhaXI8VDEsIFQyPiB7XHJcbiAgICBmaXJzdDogVDE7XHJcbiAgICBzZWNvbmQ6IFQyO1xyXG4gIH1cclxufVxyXG5cclxuLy8gU2ltcGxlIGZ1bmN0aW9uIGZvciBjb21wYXJpbmcgYXJyYXlzIChpbiBDKysgU1RMIGhhbmRsZXMgdGhpcyBhdXRvbWF0aWNhbGx5KVxyXG5mdW5jdGlvbiBhcnJheXNlcXVhbChhcnIxOiBhbnlbXSwgYXJyMjogYW55W10pOiBib29sZWFuIHtcclxuXHJcbiAgaWYgKGFycjEubGVuZ3RoICE9PSBhcnIyLmxlbmd0aCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZm9yIChsZXQgbiA9IDA7IG4gPCBhcnIxLmxlbmd0aDsgKytuKSB7XHJcbiAgICBpZiAoYXJyMVtuXSAhPT0gYXJyMltuXSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuaW50ZXJmYWNlIE5leHRUb2tlbiB7XHJcbiAgdG9rZW46IHN0cmluZztcclxuICBpbnB1dDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBFeHByZXNzaW9uID0gc3RyaW5nW107XHJcblxyXG4vLyBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzIHRoZSBzdGF0ZW1lbnQgb2YgdGhlIGh5cG90aGVzaXMsIHRoZSBzZWNvbmQgaXNcclxuLy8gdHJ1ZSBpZmYgdGhlIGh5cG90aGVzaXMgaXMgZmxvYXRpbmcuXHJcbnR5cGUgSHlwb3RoZXNpcyA9IHN0ZC5QYWlyPEV4cHJlc3Npb24sIGJvb2xlYW4+O1xyXG5cclxuLy8gQW4gYXhpb20gb3IgYSB0aGVvcmVtLlxyXG5leHBvcnQgY2xhc3MgQXNzZXJ0aW9uIHtcclxuICAvLyBIeXBvdGhlc2VzIG9mIHRoaXMgYXhpb20gb3IgdGhlb3JlbS5cclxuICBoeXBvdGhlc2VzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIGRpc2p2YXJzOiBbc3RyaW5nLCBzdHJpbmddW10gPSBbXTtcclxuXHJcbiAgLy8gU3RhdGVtZW50IG9mIGF4aW9tIG9yIHRoZW9yZW0uXHJcbiAgZXhwcmVzc2lvbjogRXhwcmVzc2lvbiA9IFtdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2NvcGUge1xyXG4gIGFjdGl2ZXZhcmlhYmxlczogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAvLyBMYWJlbHMgb2YgYWN0aXZlIGh5cG90aGVzZXNcclxuICBhY3RpdmVoeXA6IHN0cmluZ1tdID0gW107XHJcbiAgZGlzanZhcnM6IFNldDxzdHJpbmc+W10gPSBbXTtcclxuICAvLyBNYXAgZnJvbSB2YXJpYWJsZSB0byBsYWJlbCBvZiBhY3RpdmUgZmxvYXRpbmcgaHlwb3RoZXNpc1xyXG4gIGZsb2F0aW5naHlwOiB7W3Rva2VuOiBzdHJpbmddOiBzdHJpbmd9ID0ge307XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTdGF0ZSB7XHJcbiAgdG9rZW5zOiBzdHJpbmdbXSA9IFtdO1xyXG4gIGNvbnN0YW50czogc3RyaW5nW10gPSBbXTtcclxuICBoeXBvdGhlc2VzOiB7W3Rva2VuOiBzdHJpbmddOiBIeXBvdGhlc2lzfSA9IHt9O1xyXG4gIHZhcmlhYmxlczogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICBhc3NlcnRpb25zOiB7W3Rva2VuOiBzdHJpbmddOiBBc3NlcnRpb259ID0ge307XHJcbiAgc2NvcGVzOiBTY29wZVtdID0gW107XHJcbiAgblByb29mQ291bnQ6IG51bWJlciA9IDA7XHJcbiAgblByb29mTGltaXQ6IG51bWJlciA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xyXG4gIG1tRmlsZU5hbWVzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2hlY2tNTSBleHRlbmRzIFN0YXRlIHtcclxuXHJcbiAgc2V0U3RhdGUocGFydGlhbFN0YXRlOiBQYXJ0aWFsPFN0YXRlPikge1xyXG5cclxuICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IG5ldyBTdGF0ZSgpO1xyXG4gICAgY29uc3Qgc3RhdGUgPSB7XHJcbiAgICAgIC4uLmRlZmF1bHRTdGF0ZSxcclxuICAgICAgLi4uY2xvbmVEZWVwKHBhcnRpYWxTdGF0ZSlcclxuICAgIH07XHJcblxyXG4gICAgT2JqZWN0LmtleXMoc3RhdGUpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHRoaXNba2V5XSA9IHN0YXRlW2tleV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFN0YXRlKCk6IFN0YXRlIHtcclxuICAgIGNvbnN0IHN0YXRlID0gbmV3IFN0YXRlKCk7XHJcblxyXG4gICAgT2JqZWN0LmtleXMoc3RhdGUpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHN0YXRlW2tleV0gPSB0aGlzW2tleV07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gY2xvbmVEZWVwKHN0YXRlKTtcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSBpZiBhIHN0cmluZyBpcyB1c2VkIGFzIGEgbGFiZWxcclxuICBsYWJlbHVzZWQobGFiZWw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICh0aGlzLmh5cG90aGVzZXNbbGFiZWxdIHx8IHRoaXMuYXNzZXJ0aW9uc1tsYWJlbF0pID8gdHJ1ZSA6IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gRmluZCBhY3RpdmUgZmxvYXRpbmcgaHlwb3RoZXNpcyBjb3JyZXNwb25kaW5nIHRvIHZhcmlhYmxlLCBvciBlbXB0eSBzdHJpbmdcclxuICAvLyBpZiB0aGVyZSBpc24ndCBvbmUuXHJcbiAgZ2V0ZmxvYXRpbmdoeXAodmFyaWFibGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBmb3IgKGxldCBuU2NvcGUgPSAwOyBuU2NvcGUgPCB0aGlzLnNjb3Blcy5sZW5ndGg7ICsrblNjb3BlKSB7XHJcbiAgICAgIGNvbnN0IGxvYzogc3RyaW5nID0gdGhpcy5zY29wZXNbblNjb3BlXS5mbG9hdGluZ2h5cFt2YXJpYWJsZV07XHJcbiAgICAgIGlmIChsb2MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBsb2M7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBpc2FjdGl2ZXZhcmlhYmxlKHN0cjogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBmb3IgKGxldCBuU2NvcGUgPSAwOyBuU2NvcGUgPCB0aGlzLnNjb3Blcy5sZW5ndGg7ICsrblNjb3BlKSB7XHJcbiAgICAgIGlmICh0aGlzLnNjb3Blc1tuU2NvcGVdLmFjdGl2ZXZhcmlhYmxlcy5oYXMoc3RyKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpc2FjdGl2ZWh5cChzdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgZm9yIChsZXQgblNjb3BlID0gMDsgblNjb3BlIDwgdGhpcy5zY29wZXMubGVuZ3RoOyArK25TY29wZSkge1xyXG4gICAgICBpZiAodGhpcy5zY29wZXNbblNjb3BlXS5hY3RpdmVoeXAuZmluZCgodmFsdWUpID0+IHZhbHVlID09PSBzdHIpICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZXJlIGlzIGFuIGFjdGl2ZSBkaXNqb2ludCB2YXJpYWJsZSByZXN0cmljdGlvbiBvblxyXG4gIC8vIHR3byBkaWZmZXJlbnQgdmFyaWFibGVzLlxyXG4gIGlzZHZyKHZhcjE6IHN0cmluZywgdmFyMjogc3RyaW5nKSB7XHJcbiAgICBpZiAodmFyMSA9PT0gdmFyMikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBuU2NvcGUgPSAwOyBuU2NvcGUgPCB0aGlzLnNjb3Blcy5sZW5ndGg7ICsrblNjb3BlKSB7XHJcbiAgICAgIGNvbnN0IHNjb3BlID0gdGhpcy5zY29wZXNbblNjb3BlXTtcclxuICAgICAgZm9yIChsZXQgbkRpc2p2YXIgPSAwOyBuRGlzanZhciAhPT0gc2NvcGUuZGlzanZhcnMubGVuZ3RoOyArK25EaXNqdmFyKSB7XHJcbiAgICAgICAgY29uc3QgZGlzanZhciA9IHNjb3BlLmRpc2p2YXJzW25EaXNqdmFyXTtcclxuICAgICAgICBpZiAoZGlzanZhci5oYXModmFyMSlcclxuICAgICAgICAmJiAgZGlzanZhci5oYXModmFyMikpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZXJtaW5lIGlmIGEgY2hhcmFjdGVyIGlzIHdoaXRlIHNwYWNlIGluIE1ldGFtYXRoLlxyXG4gIGlzbW13cyhjaDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAvLyBUaGlzIGRvZXNuJ3QgaW5jbHVkZSBcXHYgKFwidmVydGljYWwgdGFiXCIpLCBhcyB0aGUgc3BlYyBvbWl0cyBpdC5cclxuICAgIHJldHVybiBjaCA9PT0gJyAnIHx8IGNoID09PSAnXFxuJyB8fCBjaCA9PT0gJ1xcdCcgfHwgY2ggPT09ICdcXGYnIHx8IGNoID09PSAnXFxyJztcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSBpZiBhIHRva2VuIGlzIGEgbGFiZWwgdG9rZW4uXHJcbiAgaXNsYWJlbHRva2VuKHRva2VuOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGZvciAobGV0IG5DaCA9IDA7IG5DaCA8IHRva2VuLmxlbmd0aDsgKytuQ2gpIHtcclxuICAgICAgY29uc3QgY2ggPSB0b2tlbltuQ2hdO1xyXG4gICAgICBpZiAoIShzdGQuaXNhbG51bShjaCkgfHwgY2ggPT09ICcuJyB8fCBjaCA9PT0gJy0nIHx8IGNoID09PSAnXycpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSBpZiBhIHRva2VuIGlzIGEgbWF0aCBzeW1ib2wgdG9rZW4uXHJcbiAgaXNtYXRoc3ltYm9sdG9rZW4odG9rZW46IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRva2VuLmluZGV4T2YoJyQnKSA9PT0gLTE7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmUgaWYgYSB0b2tlbiBjb25zaXN0cyBzb2xlbHkgb2YgdXBwZXItY2FzZSBsZXR0ZXJzIG9yIHF1ZXN0aW9uIG1hcmtzXHJcbiAgY29udGFpbnNvbmx5dXBwZXJvcnEodG9rZW46IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgZm9yIChsZXQgbkNoID0gMDsgbkNoIDwgdG9rZW4ubGVuZ3RoOyArK25DaCkge1xyXG4gICAgICBjb25zdCBjaCA9IHRva2VuW25DaF07XHJcbiAgICAgIGlmICghc3RkLmlzdXBwZXIoY2gpICYmIGNoICE9PSAnPycpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgbmV4dHRva2VuKGlucHV0OiBzdHJpbmcpOiBOZXh0VG9rZW4ge1xyXG4gICAgbGV0IGNoOiBzdHJpbmcgPSBudWxsO1xyXG4gICAgbGV0IHRva2VuOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgICAvLyBTa2lwIHdoaXRlc3BhY2VcclxuICAgIHdoaWxlIChpbnB1dC5sZW5ndGgpIHtcclxuICAgICAgY2ggPSBpbnB1dFswXTtcclxuICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZSgxKTtcclxuICAgICAgaWYgKGNoID09PSBudWxsIHx8ICF0aGlzLmlzbW13cyhjaCkpIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaCAhPT0gbnVsbCkge1xyXG4gICAgICBpbnB1dCA9IGNoICsgaW5wdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRva2VuXHJcbiAgICB3aGlsZSAoaW5wdXQubGVuZ3RoKSB7XHJcbiAgICAgIGNoID0gaW5wdXRbMF07XHJcbiAgICAgIGlucHV0ID0gaW5wdXQuc2xpY2UoMSk7XHJcblxyXG4gICAgICBpZiAoY2ggPT09IG51bGwgfHwgdGhpcy5pc21td3MoY2gpKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjaCA8ICchJyB8fCBjaCA+ICd+Jykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIHJlYWQgd2l0aCBjb2RlICcgKyBjaC5jaGFyQ29kZUF0KDApKTtcclxuICAgICAgICByZXR1cm4ge3Rva2VuOiAnJywgaW5wdXQ6IGlucHV0fTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdG9rZW4gKz0gY2g7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHt0b2tlbjogdG9rZW4sIGlucHV0OiBpbnB1dH07XHJcbiAgfVxyXG5cclxuICByZWFkdG9rZW5zKGZpbGVuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGFscmVhZHllbmNvdW50ZXJlZDogYm9vbGVhbiA9IHRoaXMubW1GaWxlTmFtZXMuaGFzKGZpbGVuYW1lKTtcclxuICAgIGlmIChhbHJlYWR5ZW5jb3VudGVyZWQpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tbUZpbGVOYW1lcy5hZGQoZmlsZW5hbWUpO1xyXG5cclxuICAgIGxldCBpbnB1dCA9IGZzLnJlYWRGaWxlU3luYyhmaWxlbmFtZSwge2VuY29kaW5nOiAndXRmOCd9KTtcclxuXHJcbiAgICBsZXQgaW5jb21tZW50ID0gZmFsc2U7XHJcbiAgICBsZXQgaW5maWxlaW5jbHVzaW9uID0gZmFsc2U7XHJcbiAgICBsZXQgbmV3ZmlsZW5hbWU6IHN0cmluZyA9ICcnO1xyXG5cclxuICAgIGxldCB0b2tlbjogc3RyaW5nID0gJyc7XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAoe3Rva2VuLCBpbnB1dH0gPSB0aGlzLm5leHR0b2tlbihpbnB1dCkpO1xyXG4gICAgICBpZiAoIXRva2VuLmxlbmd0aCkge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpbmNvbW1lbnQpIHtcclxuICAgICAgICBpZiAodG9rZW4gPT09ICckKScpIHtcclxuICAgICAgICAgIGluY29tbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0b2tlbi5pbmRleE9mKCckKCcpICE9PSAtMSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignQ2hhcmFjdGVycyAkKCBmb3VuZCBpbiBhIGNvbW1lbnQnKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRva2VuLmluZGV4T2YoJyQpJykgIT09IC0xKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdDaGFyYWN0ZXJzICQpIGZvdW5kIGluIGEgY29tbWVudCcpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTm90IGluIGNvbW1lbnRcclxuICAgICAgaWYgKHRva2VuID09PSAnJCgnKSB7XHJcbiAgICAgICAgICBpbmNvbW1lbnQgPSB0cnVlO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpbmZpbGVpbmNsdXNpb24pIHtcclxuICAgICAgICBpZiAoIW5ld2ZpbGVuYW1lLmxlbmd0aCkge1xyXG4gICAgICAgICAgaWYgKHRva2VuLmluZGV4T2YoJyQnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmlsZW5hbWUgJyArIHRva2VuICsgJyBjb250YWlucyBhICQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbmV3ZmlsZW5hbWUgPSB0b2tlbjtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAodG9rZW4gIT09ICckXScpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGlkblxcJ3QgZmluZCBjbG9zaW5nIGZpbGUgaW5jbHVzaW9uIGRlbGltaXRlcicpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3Qgb2theTogYm9vbGVhbiA9IHRoaXMucmVhZHRva2VucyhuZXdmaWxlbmFtZSk7XHJcbiAgICAgICAgICBpZiAoIW9rYXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5maWxlaW5jbHVzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICBuZXdmaWxlbmFtZSA9ICcnO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICh0b2tlbiA9PT0gJyRbJykge1xyXG4gICAgICAgIGluZmlsZWluY2x1c2lvbiA9IHRydWU7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudG9rZW5zLnB1c2godG9rZW4pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpbmNvbW1lbnQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW5jbG9zZWQgY29tbWVudCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGluZmlsZWluY2x1c2lvbikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuZmluaXNoZWQgZmlsZSBpbmNsdXNpb24gY29tbWFuZCcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIENvbnN0cnVjdCBhbiBBc3NlcnRpb24gZnJvbSBhbiBFeHByZXNzaW9uLiBUaGF0IGlzLCBkZXRlcm1pbmUgdGhlXHJcbiAgLy8gbWFuZGF0b3J5IGh5cG90aGVzZXMgYW5kIGRpc2pvaW50IHZhcmlhYmxlIHJlc3RyaWN0aW9ucy5cclxuICAvLyBUaGUgQXNzZXJ0aW9uIGlzIGluc2VydGVkIGludG8gdGhlIGFzc2VydGlvbnMgY29sbGVjdGlvbixcclxuICAvLyBhbmQgaXMgcmV0dXJuZWQuXHJcbiAgY29uc3RydWN0YXNzZXJ0aW9uKGxhYmVsOiBzdHJpbmcsIGV4cDogRXhwcmVzc2lvbik6IEFzc2VydGlvbiB7XHJcbiAgICBjb25zdCBhc3NlcnRpb246IEFzc2VydGlvbiA9IG5ldyBBc3NlcnRpb24oKTtcclxuXHJcbiAgICBhc3NlcnRpb24uZXhwcmVzc2lvbiA9IGV4cDtcclxuXHJcbiAgICBjb25zdCB2YXJzdXNlZDogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgdmFyaWFibGVzIHVzZWQgYW5kIGZpbmQgbWFuZGF0b3J5IGh5cG90aGVzZXNcclxuXHJcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGV4cC5sZW5ndGg7ICsrbikge1xyXG4gICAgICBjb25zdCB2YXJpYWJsZSA9IGV4cFtuXTtcclxuICAgICAgaWYgKHRoaXMudmFyaWFibGVzLmhhcyh2YXJpYWJsZSkpIHtcclxuICAgICAgICB2YXJzdXNlZC5hZGQodmFyaWFibGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgblNjb3BlID0gdGhpcy5zY29wZXMubGVuZ3RoIC0gMTsgblNjb3BlID49IDA7IC0tblNjb3BlKSB7XHJcbiAgICAgIGNvbnN0IGh5cHZlYzogc3RyaW5nW10gPSB0aGlzLnNjb3Blc1tuU2NvcGVdLmFjdGl2ZWh5cDtcclxuICAgICAgZm9yIChsZXQgbiA9IGh5cHZlYy5sZW5ndGggLSAxOyBuID49IDA7IC0tbikge1xyXG4gICAgICAgIGNvbnN0IGh5cDogSHlwb3RoZXNpcyA9IHRoaXMuaHlwb3RoZXNlc1toeXB2ZWNbbl1dO1xyXG4gICAgICAgIGlmIChoeXAuc2Vjb25kICYmIHZhcnN1c2VkLmhhcyhoeXAuZmlyc3RbMV0pKSB7XHJcbiAgICAgICAgICAvLyBNYW5kYXRvcnkgZmxvYXRpbmcgaHlwb3RoZXNpc1xyXG4gICAgICAgICAgYXNzZXJ0aW9uLmh5cG90aGVzZXMudW5zaGlmdChoeXB2ZWNbbl0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWh5cC5zZWNvbmQpIHtcclxuICAgICAgICAgIC8vIEVzc2VudGlhbCBoeXBvdGhlc2lzXHJcbiAgICAgICAgICBhc3NlcnRpb24uaHlwb3RoZXNlcy51bnNoaWZ0KGh5cHZlY1tuXSk7XHJcbiAgICAgICAgICBmb3IgKGxldCBuRXhwcmVzc2lvbiA9IDA7IG5FeHByZXNzaW9uIDwgaHlwLmZpcnN0Lmxlbmd0aDsgKytuRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52YXJpYWJsZXMuaGFzKGh5cC5maXJzdFtuRXhwcmVzc2lvbl0pKSB7XHJcbiAgICAgICAgICAgICAgdmFyc3VzZWQuYWRkKGh5cC5maXJzdFtuRXhwcmVzc2lvbl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIG1hbmRhdG9yeSBkaXNqb2ludCB2YXJpYWJsZSByZXN0cmljdGlvbnNcclxuICAgIGZvciAobGV0IG5TY29wZSA9IDA7IG5TY29wZSA8IHRoaXMuc2NvcGVzLmxlbmd0aDsgKytuU2NvcGUpIHtcclxuICAgICAgY29uc3QgZGlzanZhcnM6IFNldDxzdHJpbmc+W10gPSB0aGlzLnNjb3Blc1tuU2NvcGVdLmRpc2p2YXJzO1xyXG4gICAgICBmb3IgKGxldCBuRGlzanZhcnMgPSAwOyBuRGlzanZhcnMgPCBkaXNqdmFycy5sZW5ndGg7ICsrIG5EaXNqdmFycykge1xyXG4gICAgICAgIGNvbnN0IGRzZXQ6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgc3RkLnNldF9pbnRlcnNlY3Rpb24oZGlzanZhcnNbbkRpc2p2YXJzXSwgdmFyc3VzZWQpLmZvckVhY2goKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICBkc2V0LnB1c2godmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGRzZXQubGVuZ3RoOyArK24pIHtcclxuICAgICAgICAgIGZvciAobGV0IG4yID0gbiArIDE7IG4yIDwgZHNldC5sZW5ndGg7ICsrbjIpIHtcclxuICAgICAgICAgICAgYXNzZXJ0aW9uLmRpc2p2YXJzLnB1c2goW2RzZXRbbl0sIGRzZXRbbjJdXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hc3NlcnRpb25zW2xhYmVsXSA9IGFzc2VydGlvbjtcclxuICAgIHJldHVybiBhc3NlcnRpb247XHJcbiAgfVxyXG5cclxuICAvLyBSZWFkIGFuIGV4cHJlc3Npb24gZnJvbSB0aGUgdG9rZW4gc3RyZWFtLlxyXG4gIHJlYWRleHByZXNzaW9uKHN0YXR0eXBlOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcsIHRlcm1pbmF0b3I6IHN0cmluZyk6IEV4cHJlc3Npb24ge1xyXG5cclxuICAgIGNvbnN0IGV4cDogRXhwcmVzc2lvbiA9IFtdO1xyXG5cclxuICAgIGlmICghdGhpcy50b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuZmluaXNoZWQgJCcgKyBzdGF0dHlwZSArICcgc3RhdGVtZW50ICcgKyBsYWJlbCk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHR5cGU6IHN0cmluZyA9IHRoaXMudG9rZW5zWzBdO1xyXG5cclxuICAgIGlmICh0aGlzLmNvbnN0YW50cy5maW5kKCh2YWx1ZSkgPT4gdHlwZSA9PT0gdmFsdWUpID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmlyc3Qgc3ltYm9sIGluICQnICsgc3RhdHR5cGUgKyAnIHN0YXRlbWVudCAnICsgbGFiZWwgKyAnIGlzICcgKyB0eXBlICsgJyB3aGljaCBpcyBub3QgYSBjb25zdGFudCcpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xyXG5cclxuICAgIGV4cC5wdXNoKHR5cGUpO1xyXG5cclxuICAgIHdoaWxlICh0aGlzLnRva2Vucy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLnRva2Vucy5zaGlmdCgpO1xyXG5cclxuICAgICAgaWYgKHRva2VuID09PSB0ZXJtaW5hdG9yKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLmNvbnN0YW50cy5maW5kKCh2YWx1ZSkgPT4gdmFsdWUgPT09IHRva2VuKSA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICYmICB0aGlzLmdldGZsb2F0aW5naHlwKHRva2VuKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdJbiAkJyArIHN0YXR0eXBlICsgJyBzdGF0ZW1lbnQgJyArIGxhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgKyAnIHRva2VuICcgKyB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgICsgJyBmb3VuZCB3aGljaCBpcyBub3QgYSBjb25zdGFudCBvciB2YXJpYWJsZSBpbiBhbidcclxuICAgICAgICAgICAgICAgICAgICArICcgYWN0aXZlICRmIHN0YXRlbWVudCcpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBleHAucHVzaCh0b2tlbik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnRva2Vucy5sZW5ndGgpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW5maW5pc2hlZCAkJyArIHN0YXR0eXBlICsgJyBzdGF0ZW1lbnQgJyArIGxhYmVsKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGV4cDtcclxuICB9XHJcblxyXG4gIC8vIE1ha2UgYSBzdWJzdGl0dXRpb24gb2YgdmFyaWFibGVzLiBUaGUgcmVzdWx0IGlzIHB1dCBpbiBcImRlc3RpbmF0aW9uXCIuXHJcbiAgbWFrZXN1YnN0aXR1dGlvbihvcmlnaW5hbDogRXhwcmVzc2lvbiwgc3Vic3RtYXA6IHtbbGFiZWw6IHN0cmluZ106IEV4cHJlc3Npb259KTogRXhwcmVzc2lvbiB7XHJcbiAgICBsZXQgZGVzdGluYXRpb246IEV4cHJlc3Npb24gPSBbXTtcclxuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgb3JpZ2luYWwubGVuZ3RoOyArK24pIHtcclxuICAgICAgY29uc3Qgc3Vic3RpdHV0aW9uID0gc3Vic3RtYXBbb3JpZ2luYWxbbl1dO1xyXG4gICAgICBpZiAoc3Vic3RpdHV0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAvLyBDb25zdGFudFxyXG4gICAgICAgIGRlc3RpbmF0aW9uLnB1c2gob3JpZ2luYWxbbl0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uID0gWy4uLmRlc3RpbmF0aW9uLCAuLi5zdWJzdGl0dXRpb25dO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVzdGluYXRpb247XHJcbiAgfVxyXG5cclxuICBnZXRwcm9vZm51bWJlcnMobGFiZWw6IHN0cmluZywgcHJvb2Y6IHN0cmluZyk6IG51bWJlcltdIHtcclxuICAgIGNvbnN0IHByb29mbnVtYmVyczogbnVtYmVyW10gPSBbXTtcclxuICAgIGxldCBudW0gPSAwO1xyXG4gICAgbGV0IGp1c3Rnb3RudW0gPSBmYWxzZTtcclxuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgcHJvb2YubGVuZ3RoOyArK24pIHtcclxuICAgICAgaWYgKHByb29mW25dIDw9ICdUJykge1xyXG4gICAgICAgIGNvbnN0IGFkZHZhbDogbnVtYmVyID0gcHJvb2YuY2hhckNvZGVBdChuKSAtICgnQScuY2hhckNvZGVBdCgwKSAtIDEpO1xyXG5cclxuICAgICAgICBpZiAobnVtID4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLyAyMCB8fCAyMCAqIG51bSA+IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gYWRkdmFsKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdPdmVyZmxvdyBjb21wdXRpbmcgbnVtYmVycyBpbiBjb21wcmVzc2VkIHByb29mIG9mICcgKyBsYWJlbCk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb29mbnVtYmVycy5wdXNoKCgyMCAqIG51bSkgKyBhZGR2YWwpO1xyXG4gICAgICAgIG51bSA9IDA7XHJcbiAgICAgICAganVzdGdvdG51bSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAocHJvb2Zbbl0gPD0gJ1knKSB7XHJcbiAgICAgICAgY29uc3QgYWRkdmFsOiBudW1iZXIgPSBwcm9vZi5jaGFyQ29kZUF0KG4pIC0gJ1QnLmNoYXJDb2RlQXQoMCk7XHJcblxyXG4gICAgICAgIGlmIChudW0gPiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAvIDUgfHwgNSAqIG51bSA+IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gYWRkdmFsKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdPdmVyZmxvdyBjb21wdXRpbmcgbnVtYmVycyBpbiBjb21wcmVzc2VkIHByb29mIG9mICcgKyBsYWJlbCk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG51bSA9ICg1ICogbnVtKSArIGFkZHZhbDtcclxuICAgICAgICBqdXN0Z290bnVtID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSB7IC8vIEl0IG11c3QgYmUgWlxyXG4gICAgICAgIGlmICghanVzdGdvdG51bSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignU3RyYXkgWiBmb3VuZCBpbiBjb21wcmVzc2VkIHByb29mIG9mICcgKyBsYWJlbCk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb29mbnVtYmVycy5wdXNoKDApO1xyXG4gICAgICAgIGp1c3Rnb3RudW0gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChudW0gIT09IDApIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQ29tcHJlc3NlZCBwcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgZW5kcyBpbiB1bmZpbmlzaGVkIG51bWJlcicpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcHJvb2ZudW1iZXJzO1xyXG4gIH1cclxuXHJcbiAgLy8gU3Vicm91dGluZSBmb3IgcHJvb2YgdmVyaWZpY2F0aW9uLiBWZXJpZnkgYSBwcm9vZiBzdGVwIHJlZmVyZW5jaW5nIGFuXHJcbiAgLy8gYXNzZXJ0aW9uIChpLmUuLCBub3QgYSBoeXBvdGhlc2lzKS5cclxuICB2ZXJpZnlhc3NlcnRpb25yZWYodGhsYWJlbDogc3RyaW5nLCByZWZsYWJlbDogc3RyaW5nLCBzdGFjazogRXhwcmVzc2lvbltdKTogRXhwcmVzc2lvbltdIHtcclxuICAgIGNvbnN0IGFzc2VydGlvbjogQXNzZXJ0aW9uID0gdGhpcy5hc3NlcnRpb25zW3JlZmxhYmVsXTtcclxuXHJcbiAgICBpZiAoIWFzc2VydGlvbikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdJbiBwcm9vZiBvZiB0aGVvcmVtICcgKyB0aGxhYmVsICsgJyBhc3NlcnRpb24gJyArIHJlZmxhYmVsICsgJyBpcyB1bmRlZmluZWQnKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0YWNrLmxlbmd0aCA8IGFzc2VydGlvbi5oeXBvdGhlc2VzLmxlbmd0aCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdJbiBwcm9vZiBvZiB0aGVvcmVtICcgKyB0aGxhYmVsICsgJyBub3QgZW5vdWdoIGl0ZW1zIGZvdW5kIG9uIHN0YWNrJyk7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJhc2U6IG51bWJlciA9IHN0YWNrLmxlbmd0aCAtIGFzc2VydGlvbi5oeXBvdGhlc2VzLmxlbmd0aDtcclxuXHJcbiAgICBjb25zdCBzdWJzdGl0dXRpb25zOiB7W2xhYmVsOiBzdHJpbmddOiBFeHByZXNzaW9ufSA9IHt9O1xyXG5cclxuICAgIC8vIERldGVybWluZSBzdWJzdGl0dXRpb25zIGFuZCBjaGVjayB0aGF0IHdlIGNhbiB1bmlmeVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc3NlcnRpb24uaHlwb3RoZXNlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICBjb25zdCBoeXBvdGhlc2lzOiBIeXBvdGhlc2lzID0gdGhpcy5oeXBvdGhlc2VzW2Fzc2VydGlvbi5oeXBvdGhlc2VzW2ldXTtcclxuXHJcbiAgICAgIGlmICghaHlwb3RoZXNpcykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0luIHByb29mIG9mIHRoZW9yZW0gJyArIHRobGFiZWwgKyAnIGh5cG90aGVzaXMgJyArIGFzc2VydGlvbi5oeXBvdGhlc2VzW2ldICsgJyBpcyB1bmRlZmluZWQnKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGh5cG90aGVzaXMuc2Vjb25kKSB7XHJcbiAgICAgICAgLy8gRmxvYXRpbmcgaHlwb3RoZXNpcyBvZiB0aGUgcmVmZXJlbmNlZCBhc3NlcnRpb25cclxuICAgICAgICBpZiAoaHlwb3RoZXNpcy5maXJzdFswXSAhPT0gc3RhY2tbYmFzZSArIGldWzBdKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbiBwcm9vZiBvZiB0aGVvcmVtICcgKyB0aGxhYmVsICsgJyB1bmlmaWNhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3Vic3Q6IEV4cHJlc3Npb24gPSBzdGFja1tiYXNlICsgaV0uc2xpY2UoMSk7XHJcbiAgICAgICAgc3Vic3RpdHV0aW9uc1toeXBvdGhlc2lzLmZpcnN0WzFdXSA9IHN1YnN0O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEVzc2VudGlhbCBoeXBvdGhlc2lzXHJcbiAgICAgICAgY29uc3QgZGVzdDogRXhwcmVzc2lvbiA9IHRoaXMubWFrZXN1YnN0aXR1dGlvbihoeXBvdGhlc2lzLmZpcnN0LCBzdWJzdGl0dXRpb25zKTtcclxuICAgICAgICBpZiAoIWFycmF5c2VxdWFsKGRlc3QsIHN0YWNrW2Jhc2UgKyBpXSkpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0luIHByb29mIG9mIHRoZW9yZW0gJyArIHRobGFiZWwgKyAnIHVuaWZpY2F0aW9uIGZhaWxlZCcpO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGh5cG90aGVzZXMgZnJvbSBzdGFja1xyXG4gICAgc3RhY2sgPSBzdGFjay5zbGljZSgwLCBiYXNlKTtcclxuXHJcbiAgICAvLyBWZXJpZnkgZGlzam9pbnQgdmFyaWFibGUgY29uZGl0aW9uc1xyXG4gICAgZm9yIChsZXQgbkRpc2p2YXIgPSAwOyBuRGlzanZhciA8IGFzc2VydGlvbi5kaXNqdmFycy5sZW5ndGg7ICsrbkRpc2p2YXIpIHtcclxuICAgICAgY29uc3QgZXhwMTogRXhwcmVzc2lvbiA9IHN1YnN0aXR1dGlvbnNbYXNzZXJ0aW9uLmRpc2p2YXJzW25EaXNqdmFyXVswXV07XHJcbiAgICAgIGNvbnN0IGV4cDI6IEV4cHJlc3Npb24gPSBzdWJzdGl0dXRpb25zW2Fzc2VydGlvbi5kaXNqdmFyc1tuRGlzanZhcl1bMV1dO1xyXG5cclxuICAgICAgY29uc3QgZXhwMXZhcnM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgIGZvciAobGV0IG5FeHAxID0gMDsgbkV4cDEgPCBleHAxLmxlbmd0aDsgKytuRXhwMSkge1xyXG4gICAgICAgIGlmICh0aGlzLnZhcmlhYmxlcy5oYXMoZXhwMVtuRXhwMV0pKSB7XHJcbiAgICAgICAgICBleHAxdmFycy5wdXNoKGV4cDFbbkV4cDFdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGV4cDJ2YXJzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBuRXhwMiA9IDA7IG5FeHAyIDwgZXhwMi5sZW5ndGg7ICsrbkV4cDIpIHtcclxuICAgICAgICBpZiAodGhpcy52YXJpYWJsZXMuaGFzKGV4cDJbbkV4cDJdKSkge1xyXG4gICAgICAgICAgZXhwMnZhcnMucHVzaChleHAyW25FeHAyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCBuRXhwMSA9IDA7IG5FeHAxIDwgZXhwMXZhcnMubGVuZ3RoOyArK25FeHAxKSB7XHJcbiAgICAgICAgZm9yIChsZXQgbkV4cDIgPSAwOyBuRXhwMiA8IGV4cDJ2YXJzLmxlbmd0aDsgKytuRXhwMikge1xyXG4gICAgICAgICAgaWYgKCF0aGlzLmlzZHZyKGV4cDF2YXJzW25FeHAxXSwgZXhwMnZhcnNbbkV4cDJdKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbiBwcm9vZiBvZiB0aGVvcmVtICcgKyB0aGxhYmVsICsgJyBkaXNqb2ludCB2YXJpYWJsZSByZXN0cmljdGlvbiB2aW9sYXRlZCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBEb25lIHZlcmlmaWNhdGlvbiBvZiB0aGlzIHN0ZXAuIEluc2VydCBuZXcgc3RhdGVtZW50IG9udG8gc3RhY2suXHJcbiAgICBjb25zdCByZXN1bHQ6IEV4cHJlc3Npb24gPSB0aGlzLm1ha2VzdWJzdGl0dXRpb24oYXNzZXJ0aW9uLmV4cHJlc3Npb24sIHN1YnN0aXR1dGlvbnMpO1xyXG4gICAgc3RhY2sucHVzaChyZXN1bHQpO1xyXG4gICAgcmV0dXJuIHN0YWNrO1xyXG4gIH1cclxuXHJcbiAgLy8gVmVyaWZ5IGEgcmVndWxhciBwcm9vZi4gVGhlIFwicHJvb2ZcIiBhcmd1bWVudCBzaG91bGQgYmUgYSBub24tZW1wdHkgc2VxdWVuY2VcclxuICAvLyBvZiB2YWxpZCBsYWJlbHMuIFJldHVybiB0cnVlIGlmZiB0aGUgcHJvb2YgaXMgY29ycmVjdC5cclxuICB2ZXJpZnlyZWd1bGFycHJvb2YobGFiZWw6IHN0cmluZywgdGhlb3JlbTogQXNzZXJ0aW9uLCBwcm9vZjogc3RyaW5nW10pOiBib29sZWFuIHtcclxuICAgIGxldCBzdGFjazogRXhwcmVzc2lvbltdID0gW107XHJcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IHByb29mLmxlbmd0aDsgKytuKSB7XHJcbiAgICAgIC8vIElmIHN0ZXAgaXMgYSBoeXBvdGhlc2lzLCBqdXN0IHB1c2ggaXQgb250byB0aGUgc3RhY2suXHJcbiAgICAgIGNvbnN0IGh5cDogSHlwb3RoZXNpcyA9IHRoaXMuaHlwb3RoZXNlc1twcm9vZltuXV07XHJcbiAgICAgIGlmIChoeXApIHtcclxuICAgICAgICBzdGFjay5wdXNoKGh5cC5maXJzdCk7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEl0IG11c3QgYmUgYW4gYXhpb20gb3IgdGhlb3JlbVxyXG4gICAgICBzdGFjayA9IHRoaXMudmVyaWZ5YXNzZXJ0aW9ucmVmKGxhYmVsLCBwcm9vZltuXSwgc3RhY2spO1xyXG4gICAgICBpZiAoc3RhY2sgPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RhY2subGVuZ3RoICE9PSAxKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb29mIG9mIHRoZW9yZW0gJyArIGxhYmVsICsgJyBkb2VzIG5vdCBlbmQgd2l0aCBvbmx5IG9uZSBpdGVtIG9uIHRoZSBzdGFjaycpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFhcnJheXNlcXVhbChzdGFja1swXSwgdGhlb3JlbS5leHByZXNzaW9uKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgcHJvdmVzIHdyb25nIHN0YXRlbWVudCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvLyBWZXJpZnkgYSBjb21wcmVzc2VkIHByb29mXHJcbiAgdmVyaWZ5Y29tcHJlc3NlZHByb29mKGxhYmVsOiBzdHJpbmcsIHRoZW9yZW06IEFzc2VydGlvbiwgbGFiZWxzOiBzdHJpbmdbXSwgcHJvb2ZudW1iZXJzOiBudW1iZXJbXSk6IGJvb2xlYW4ge1xyXG4gICAgbGV0IHN0YWNrOiBFeHByZXNzaW9uW10gPSBbXTtcclxuXHJcbiAgICBjb25zdCBtYW5kaHlwdDogbnVtYmVyID0gdGhlb3JlbS5oeXBvdGhlc2VzLmxlbmd0aDtcclxuICAgIGNvbnN0IGxhYmVsdCA9IG1hbmRoeXB0ICsgbGFiZWxzLmxlbmd0aDtcclxuXHJcbiAgICBjb25zdCBzYXZlZHN0ZXBzOiBFeHByZXNzaW9uW10gPSBbXTtcclxuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgcHJvb2ZudW1iZXJzLmxlbmd0aDsgKytuKSB7XHJcbiAgICAgIC8vIFNhdmUgdGhlIGxhc3QgcHJvb2Ygc3RlcCBpZiAwXHJcbiAgICAgIGlmIChwcm9vZm51bWJlcnNbbl0gPT09IDApIHtcclxuICAgICAgICBzYXZlZHN0ZXBzLnB1c2goc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBzdGVwIGlzIGEgbWFuZGF0b3J5IGh5cG90aGVzaXMsIGp1c3QgcHVzaCBpdCBvbnRvIHRoZSBzdGFjay5cclxuICAgICAgaWYgKHByb29mbnVtYmVyc1tuXSA8PSBtYW5kaHlwdCkge1xyXG4gICAgICAgIHN0YWNrLnB1c2godGhpcy5oeXBvdGhlc2VzW3RoZW9yZW0uaHlwb3RoZXNlc1twcm9vZm51bWJlcnNbbl0gLSAxXV0uZmlyc3QpO1xyXG4gICAgICB9IGVsc2UgaWYgKHByb29mbnVtYmVyc1tuXSA8PSBsYWJlbHQpIHtcclxuICAgICAgICBjb25zdCBwcm9vZnN0ZXA6IHN0cmluZyA9IGxhYmVsc1twcm9vZm51bWJlcnNbbl0gLSBtYW5kaHlwdCAtIDFdO1xyXG5cclxuICAgICAgICAvLyBJZiBzdGVwIGlzIGEgKG5vbi1tYW5kYXRvcnkpIGh5cG90aGVzaXMsXHJcbiAgICAgICAgLy8ganVzdCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrLlxyXG4gICAgICAgIGNvbnN0IGh5cDogSHlwb3RoZXNpcyA9IHRoaXMuaHlwb3RoZXNlc1twcm9vZnN0ZXBdO1xyXG4gICAgICAgIGlmIChoeXApIHtcclxuICAgICAgICAgIHN0YWNrLnB1c2goaHlwLmZpcnN0KTtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSXQgbXVzdCBiZSBhbiBheGlvbSBvciB0aGVvcmVtXHJcbiAgICAgICAgc3RhY2sgPSB0aGlzLnZlcmlmeWFzc2VydGlvbnJlZihsYWJlbCwgcHJvb2ZzdGVwLCBzdGFjayk7XHJcbiAgICAgICAgaWYgKHN0YWNrID09PSBudWxsKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgeyAvLyBNdXN0IHJlZmVyIHRvIHNhdmVkIHN0ZXBcclxuICAgICAgICBpZiAocHJvb2ZudW1iZXJzW25dID4gbGFiZWx0ICsgc2F2ZWRzdGVwcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ051bWJlciBpbiBjb21wcmVzc2VkIHByb29mIG9mICcgKyBsYWJlbCArICcgaXMgdG9vIGhpZ2gnKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YWNrLnB1c2goc2F2ZWRzdGVwc1twcm9vZm51bWJlcnNbbl0gLSBsYWJlbHQgLSAxXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RhY2subGVuZ3RoICE9PSAxKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb29mIG9mIHRoZW9yZW0gJyArIGxhYmVsICsgJyBkb2VzIG5vdCBlbmQgd2l0aCBvbmx5IG9uZSBpdGVtIG9uIHRoZSBzdGFjaycpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFhcnJheXNlcXVhbChzdGFja1swXSwgdGhlb3JlbS5leHByZXNzaW9uKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgcHJvdmVzIHdyb25nIHN0YXRlbWVudCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvLyBQYXJzZSAkcCBzdGF0ZW1lbnQuIFJldHVybiB0cnVlIGlmZiBva2F5LlxyXG4gIHBhcnNlcChsYWJlbDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBuZXd0aGVvcmVtOiBFeHByZXNzaW9uID0gdGhpcy5yZWFkZXhwcmVzc2lvbigncCcsIGxhYmVsLCAnJD0nKTtcclxuICAgIGlmICghbmV3dGhlb3JlbSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYXNzZXJ0aW9uOiBBc3NlcnRpb24gPSB0aGlzLmNvbnN0cnVjdGFzc2VydGlvbihsYWJlbCwgbmV3dGhlb3JlbSk7XHJcblxyXG4gICAgLy8gTm93IGZvciB0aGUgcHJvb2ZcclxuXHJcbiAgICBpZiAoIXRoaXMudG9rZW5zLmxlbmd0aCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmZpbmlzaGVkICRwIHN0YXRlbWVudCAnICsgbGFiZWwpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudG9rZW5zWzBdID09PSAnKCcpIHtcclxuICAgICAgLy8gQ29tcHJlc3NlZCBwcm9vZlxyXG4gICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xyXG5cclxuICAgICAgLy8gR2V0IGxhYmVsc1xyXG5cclxuICAgICAgY29uc3QgbGFiZWxzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgd2hpbGUgKHRoaXMudG9rZW5zLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHRva2VuOiBzdHJpbmcgPSB0aGlzLnRva2Vuc1swXTtcclxuICAgICAgICBpZiAodG9rZW4gPT09ICcpJykge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xyXG4gICAgICAgIGxhYmVscy5wdXNoKHRva2VuKTtcclxuICAgICAgICBpZiAodG9rZW4gPT09IGxhYmVsKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgcmVmZXJzIHRvIGl0c2VsZicpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYXNzZXJ0aW9uLmh5cG90aGVzZXMuZmluZCgodmFsdWUpID0+IHZhbHVlID09PSB0b2tlbikgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignQ29tcHJlc3NlZCBwcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgaGFzIG1hbmRhdG9yeSBoeXBvdGhlc2lzICcgKyB0b2tlbiArICcgaW4gbGFiZWwgbGlzdCcpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuYXNzZXJ0aW9uc1t0b2tlbl0gJiYgIXRoaXMuaXNhY3RpdmVoeXAodG9rZW4pKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgcmVmZXJzIHRvICcgKyB0b2tlbiArICcgd2hpY2ggaXMgbm90IGFuIGFjdGl2ZSBzdGF0ZW1lbnQnKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy50b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5maW5pc2hlZCAkcCBzdGF0ZW1lbnQgJyArIGxhYmVsKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7IC8vIERpc2NhcmQgKSB0b2tlblxyXG5cclxuICAgICAgLy8gR2V0IHByb29mIHN0ZXBzXHJcblxyXG4gICAgICBsZXQgcHJvb2Y6IHN0cmluZyA9ICcnO1xyXG4gICAgICB3aGlsZSAodGhpcy50b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLnRva2Vuc1swXTtcclxuXHJcbiAgICAgICAgaWYgKHRva2VuID09PSAnJC4nKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgIHByb29mICs9IHRva2VuO1xyXG4gICAgICAgIGlmICghdGhpcy5jb250YWluc29ubHl1cHBlcm9ycSh0b2tlbikpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0JvZ3VzIGNoYXJhY3RlciBmb3VuZCBpbiBjb21wcmVzc2VkIHByb29mIG9mICcgKyBsYWJlbCk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMudG9rZW5zLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuZmluaXNoZWQgJHAgc3RhdGVtZW50ICcgKyBsYWJlbCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXByb29mLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZW9yZW0gJyArIGxhYmVsICsgJyBoYXMgbm8gcHJvb2YnKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7IC8vIERpc2NhcmQgJC4gdG9rZW5cclxuXHJcbiAgICAgIGlmIChwcm9vZi5pbmRleE9mKCc/JykgIT09ICAtMSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dhcm5pbmc6IFByb29mIG9mIHRoZW9yZW0gJyArIGxhYmVsICsgJyBpcyBpbmNvbXBsZXRlJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIENvbnRpbnVlIHByb2Nlc3NpbmcgZmlsZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBwcm9vZm51bWJlcnM6IG51bWJlcltdID0gdGhpcy5nZXRwcm9vZm51bWJlcnMobGFiZWwsIHByb29mKTtcclxuICAgICAgaWYgKCFwcm9vZm51bWJlcnMpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG9rYXk6IGJvb2xlYW4gPSB0aGlzLnZlcmlmeWNvbXByZXNzZWRwcm9vZihsYWJlbCwgYXNzZXJ0aW9uLCBsYWJlbHMsIHByb29mbnVtYmVycyk7XHJcbiAgICAgIGlmICghb2theSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUmVndWxhciAodW5jb21wcmVzc2VkIHByb29mKVxyXG4gICAgICBjb25zdCBwcm9vZjogc3RyaW5nW10gPSBbXTtcclxuICAgICAgbGV0IGluY29tcGxldGUgPSBmYWxzZTtcclxuICAgICAgd2hpbGUgKHRoaXMudG9rZW5zLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHRva2VuOiBzdHJpbmcgPSB0aGlzLnRva2Vuc1swXTtcclxuXHJcbiAgICAgICAgaWYgKHRva2VuID09PSAnJC4nKSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7XHJcbiAgICAgICAgcHJvb2YucHVzaCh0b2tlbik7XHJcbiAgICAgICAgaWYgKHRva2VuID09PSAnPycpIHtcclxuICAgICAgICAgIGluY29tcGxldGUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodG9rZW4gPT09IGxhYmVsKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgcmVmZXJzIHRvIGl0c2VsZicpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuYXNzZXJ0aW9uc1t0b2tlbl0gJiYgIXRoaXMuaXNhY3RpdmVoeXAodG9rZW4pKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgcmVmZXJzIHRvICcgKyB0b2tlbiArICcgd2hpY2ggaXMgbm90IGFuIGFjdGl2ZSBzdGF0ZW1lbnQnKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy50b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5maW5pc2hlZCAkcCBzdGF0ZW1lbnQgJyArIGxhYmVsKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghcHJvb2YubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignVGhlb3JlbSAnICsgbGFiZWwgKyAnIGhhcyBubyBwcm9vZicpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy50b2tlbnMuc2hpZnQoKTsgLy8gRGlzY2FyZCAkLiB0b2tlblxyXG5cclxuICAgICAgaWYgKGluY29tcGxldGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXYXJuaW5nOiBQcm9vZiBvZiB0aGVvcmVtICcgKyBsYWJlbCArICcgaXMgaW5jb21wbGV0ZScpO1xyXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBDb250aW51ZSBwcm9jZXNzaW5nIGZpbGVcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgb2theTogYm9vbGVhbiA9IHRoaXMudmVyaWZ5cmVndWxhcnByb29mKGxhYmVsLCBhc3NlcnRpb24sIHByb29mKTtcclxuICAgICAgaWYgKCFva2F5KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBwYXJzZWUobGFiZWw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgbmV3aHlwOiBFeHByZXNzaW9uID0gdGhpcy5yZWFkZXhwcmVzc2lvbignZScsIGxhYmVsLCAnJC4nKTtcclxuICAgIGlmICghbmV3aHlwKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgbmV3IGVzc2VudGlhbCBoeXBvdGhlc2lzXHJcbiAgICB0aGlzLmh5cG90aGVzZXNbbGFiZWxdID0ge1xyXG4gICAgICBmaXJzdDogbmV3aHlwLFxyXG4gICAgICBzZWNvbmQ6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2NvcGVzW3RoaXMuc2NvcGVzLmxlbmd0aCAtIDFdLmFjdGl2ZWh5cC5wdXNoKGxhYmVsKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gUGFyc2UgJGEgc3RhdGVtZW50LiBSZXR1cm4gdHJ1ZSBpZmYgb2theS5cclxuICBwYXJzZWEobGFiZWw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgbmV3YXhpb206IEV4cHJlc3Npb24gPSB0aGlzLnJlYWRleHByZXNzaW9uKCdhJywgbGFiZWwsICckLicpO1xyXG4gICAgaWYgKCFuZXdheGlvbSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb25zdHJ1Y3Rhc3NlcnRpb24obGFiZWwsIG5ld2F4aW9tKTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8vIFBhcnNlICRmIHN0YXRlbWVudC4gUmV0dXJuIHRydWUgaWZmIG9rYXkuXHJcbiAgcGFyc2VmKGxhYmVsOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGlmICghdGhpcy50b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuZmluaXNoZWQgJGYgc3RhdGVtZW50JyArIGxhYmVsKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHR5cGU6IHN0cmluZyA9IHRoaXMudG9rZW5zWzBdO1xyXG5cclxuICAgIGlmICh0aGlzLmNvbnN0YW50cy5maW5kKCh2YWx1ZSkgPT4gdmFsdWUgPT09IHR5cGUpID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmlyc3Qgc3ltYm9sIGluICRmIHN0YXRlbWVudCAnICsgbGFiZWwgKyAnIGlzICcgKyB0eXBlICsgJyB3aGljaCBpcyBub3QgYSBjb25zdGFudCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50b2tlbnMuc2hpZnQoKTtcclxuXHJcbiAgICBpZiAoIXRoaXMudG9rZW5zLmxlbmd0aCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmZpbmlzaGVkICRmIHN0YXRlbWVudCcgKyBsYWJlbCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB2YXJpYWJsZTogc3RyaW5nID0gdGhpcy50b2tlbnNbMF07XHJcbiAgICBpZiAoIXRoaXMuaXNhY3RpdmV2YXJpYWJsZSh2YXJpYWJsZSkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU2Vjb25kIHN5bWJvbCBpbiAkZiBzdGF0ZW1lbnQgJyArIGxhYmVsICsgJyBpcyAnICsgdmFyaWFibGUgKyAnIHdoaWNoIGlzIG5vdCBhbiBhY3RpdmUgdmFyaWFibGUnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZ2V0ZmxvYXRpbmdoeXAodmFyaWFibGUpLmxlbmd0aCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdUaGUgdmFyaWFibGUgJyArIHZhcmlhYmxlICsgJyBhcHBlYXJzIGluIGEgc2Vjb25kICRmIHN0YXRlbWVudCAnICsgbGFiZWwpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50b2tlbnMuc2hpZnQoKTtcclxuXHJcbiAgICBpZiAoIXRoaXMudG9rZW5zLmxlbmd0aCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmZpbmlzaGVkICRmIHN0YXRlbWVudCcgKyBsYWJlbCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy50b2tlbnNbMF0gIT09ICckLicpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXhwZWN0ZWQgZW5kIG9mICRmIHN0YXRlbWVudCAnICsgbGFiZWwgKyAnIGJ1dCBmb3VuZCAnICsgdGhpcy50b2tlbnNbMF0pO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50b2tlbnMuc2hpZnQoKTsgLy8gRGlzY2FyZCAkLiB0b2tlblxyXG5cclxuICAgIC8vIENyZWF0ZSBuZXcgZmxvYXRpbmcgaHlwb3RoZXNpc1xyXG4gICAgY29uc3QgbmV3aHlwOiBFeHByZXNzaW9uID0gW107XHJcbiAgICBuZXdoeXAucHVzaCh0eXBlKTtcclxuICAgIG5ld2h5cC5wdXNoKHZhcmlhYmxlKTtcclxuICAgIHRoaXMuaHlwb3RoZXNlc1tsYWJlbF0gPSB7XHJcbiAgICAgIGZpcnN0OiBuZXdoeXAsXHJcbiAgICAgIHNlY29uZDogdHJ1ZVxyXG4gICAgfTtcclxuICAgIHRoaXMuc2NvcGVzW3RoaXMuc2NvcGVzLmxlbmd0aCAtIDFdLmFjdGl2ZWh5cC5wdXNoKGxhYmVsKTtcclxuICAgIHRoaXMuc2NvcGVzW3RoaXMuc2NvcGVzLmxlbmd0aCAtIDFdLmZsb2F0aW5naHlwW3ZhcmlhYmxlXSA9IGxhYmVsO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICAvLyBQYXJzZSBsYWJlbGVkIHN0YXRlbWVudC4gUmV0dXJuIHRydWUgaWZmIG9rYXkuXHJcbiAgcGFyc2VsYWJlbChsYWJlbDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5jb25zdGFudHMuZmluZCgodmFsdWUpID0+IHZhbHVlID09PSBsYWJlbCkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBdHRlbXB0IHRvIHJldXNlIGNvbnN0YW50ICcgKyBsYWJlbCArICcgYXMgYSBsYWJlbCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudmFyaWFibGVzLmhhcyhsYWJlbCkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdCB0byByZXVzZSB2YXJpYWJsZSAnICsgbGFiZWwgKyAnIGFzIGEgbGFiZWwnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmxhYmVsdXNlZChsYWJlbCkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdCB0byByZXVzZSBsYWJlbCAnICsgbGFiZWwpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnRva2Vucy5sZW5ndGgpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW5maW5pc2hlZCBsYWJlbGVkIHN0YXRlbWVudCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdHlwZTogc3RyaW5nID0gdGhpcy50b2tlbnMuc2hpZnQoKTtcclxuXHJcbiAgICBsZXQgb2theSA9IHRydWU7XHJcbiAgICBpZiAodHlwZSA9PT0gJyRwJykge1xyXG4gICAgICBva2F5ID0gdGhpcy5wYXJzZXAobGFiZWwpO1xyXG4gICAgICArK3RoaXMublByb29mQ291bnQ7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICckZScpIHtcclxuICAgICAgb2theSA9IHRoaXMucGFyc2VlKGxhYmVsKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJyRhJykge1xyXG4gICAgICBva2F5ID0gdGhpcy5wYXJzZWEobGFiZWwpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnJGYnKSB7XHJcbiAgICAgIG9rYXkgPSB0aGlzLnBhcnNlZihsYWJlbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIHRva2VuICcgKyB0eXBlICsgJyBlbmNvdW50ZXJlZCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9rYXk7XHJcbiAgfVxyXG5cclxuICBwYXJzZWQoKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBkdmFyczogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgICB3aGlsZSAodGhpcy50b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnN0IHRva2VuOiBzdHJpbmcgPSB0aGlzLnRva2Vuc1swXTtcclxuICAgICAgaWYgKHRva2VuID09PSAnJC4nKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7XHJcblxyXG4gICAgICBpZiAoIXRoaXMuaXNhY3RpdmV2YXJpYWJsZSh0b2tlbikpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdUb2tlbiAnICsgdG9rZW4gKyAnIGlzIG5vdCBhbiBhY3RpdmUgdmFyaWFibGUsICcgKyAnYnV0IHdhcyBmb3VuZCBpbiBhICRkIHN0YXRlbWVudCcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGR2YXJzLmhhcyh0b2tlbikpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCckZCBzdGF0ZW1lbnQgbWVudGlvbnMgJyArIHRva2VuICsgJyB0d2ljZScpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZHZhcnMuYWRkKHRva2VuKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMudG9rZW5zLmxlbmd0aCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVbnRlcm1pbmF0ZWQgJGQgc3RhdGVtZW50Jyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZHZhcnMuc2l6ZSA8IDIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTm90IGVub3VnaCBpdGVtcyBpbiAkZCBzdGF0ZW1lbnQnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlY29yZCBpdFxyXG4gICAgdGhpcy5zY29wZXNbdGhpcy5zY29wZXMubGVuZ3RoIC0gMV0uZGlzanZhcnMucHVzaChkdmFycyk7XHJcblxyXG4gICAgdGhpcy50b2tlbnMuc2hpZnQoKTsgLy8gRGlzY2FyZCAkLiB0b2tlblxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gUGFyc2UgJGMgc3RhdGVtZW50LiBSZXR1cm4gdHJ1ZSBpZmYgb2theS5cclxuICBwYXJzZWMoKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5zY29wZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCckYyBzdGF0ZW1lbnQgb2NjdXJzIGluIGlubmVyIGJsb2NrJyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbGlzdGVtcHR5ID0gdHJ1ZTtcclxuICAgIHdoaWxlICh0aGlzLnRva2Vucy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLnRva2Vuc1swXTtcclxuXHJcbiAgICAgIGlmICh0b2tlbiA9PT0gJyQuJykge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xyXG4gICAgICBsaXN0ZW1wdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmICghdGhpcy5pc21hdGhzeW1ib2x0b2tlbih0b2tlbikpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBdHRlbXB0IHRvIGRlY2xhcmUgJyArIHRva2VuICsgJyBhcyBhIGNvbnN0YW50Jyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnZhcmlhYmxlcy5oYXModG9rZW4pKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdCB0byByZWRlY2xhcmUgdmFyaWFibGUgJyArIHRva2VuICsgJyBhcyBhIGNvbnN0YW50Jyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmxhYmVsdXNlZCh0b2tlbikpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBdHRlbXB0IHRvIHJldXNlIGxhYmVsICcgKyB0b2tlbiArICcgYXMgYSBjb25zdGFudCcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5jb25zdGFudHMuZmluZCgodmFsdWUpID0+IHZhbHVlID09PSB0b2tlbikgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F0dGVtcHQgdG8gcmVkZWNsYXJlIGNvbnN0YW50ICcgKyB0b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY29uc3RhbnRzLnB1c2godG9rZW4pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy50b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VudGVybWluYXRlZCAkYyBzdGF0ZW1lbnQnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChsaXN0ZW1wdHkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW50ZXJtaW5hdGVkICRjIHN0YXRlbWVudCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50b2tlbnMuc2hpZnQoKTsgLy8gRGlzY2FyZCAkLiB0b2tlblxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gUGFyc2UgJHYgc3RhdGVtZW50LiBSZXR1cm4gdHJ1ZSBpZmYgb2theS5cclxuICBwYXJzZXYoKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgbGlzdGVtcHR5ID0gdHJ1ZTtcclxuICAgIHdoaWxlICh0aGlzLnRva2Vucy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgdG9rZW46IHN0cmluZyA9IHRoaXMudG9rZW5zWzBdO1xyXG5cclxuICAgICAgaWYgKHRva2VuID09PSAnJC4nKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7XHJcbiAgICAgIGxpc3RlbXB0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKCF0aGlzLmlzbWF0aHN5bWJvbHRva2VuKHRva2VuKSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F0dGVtcHQgdG8gZGVjbGFyZSAnICsgdG9rZW4gKyAnIGFzIGEgdmFyaWFibGUnKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuY29uc3RhbnRzLmZpbmQoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gdG9rZW4pICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBdHRlbXB0IHRvIHJlZGVjbGFyZSBjb25zdGFudCAnICsgdG9rZW4gKyAnIGFzIGEgdmFyaWFibGUnKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMubGFiZWx1c2VkKHRva2VuKSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F0dGVtcHQgdG8gcmV1c2UgbGFiZWwgJyArIHRva2VuICsgJyBhcyBhIHZhcmlhYmxlJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmlzYWN0aXZldmFyaWFibGUodG9rZW4pKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQXR0ZW1wdCB0byByZWRlY2xhcmUgYWN0aXZlIHZhcmlhYmxlICcgKyB0b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudmFyaWFibGVzLmFkZCh0b2tlbik7XHJcbiAgICAgIHRoaXMuc2NvcGVzW3RoaXMuc2NvcGVzLmxlbmd0aCAtIDFdLmFjdGl2ZXZhcmlhYmxlcy5hZGQodG9rZW4pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy50b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VudGVybWluYXRlZCAkdiBzdGF0ZW1lbnQnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChsaXN0ZW1wdHkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRW1wdHkgJHYgc3RhdGVtZW50Jyk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRva2Vucy5zaGlmdCgpOyAvLyBEaXNjYXJkICQuIHRva2VuXHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBjaGVja21tKCk6IGJvb2xlYW4ge1xyXG5cclxuICAgIHRoaXMuc2NvcGVzLnB1c2gobmV3IFNjb3BlKCkpO1xyXG5cclxuICAgIHdoaWxlICh0aGlzLnRva2Vucy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgdG9rZW46IHN0cmluZyA9IHRoaXMudG9rZW5zLnNoaWZ0KCk7XHJcblxyXG4gICAgICBsZXQgb2theSA9IHRydWU7XHJcblxyXG4gICAgICBpZiAodGhpcy5pc2xhYmVsdG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgb2theSA9IHRoaXMucGFyc2VsYWJlbCh0b2tlbik7XHJcbiAgICAgIH0gZWxzZSBpZiAodG9rZW4gPT09ICckZCcpIHtcclxuICAgICAgICBva2F5ID0gdGhpcy5wYXJzZWQoKTtcclxuICAgICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJyR7Jykge1xyXG4gICAgICAgIHRoaXMuc2NvcGVzLnB1c2gobmV3IFNjb3BlKCkpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRva2VuID09PSAnJH0nKSB7XHJcbiAgICAgICAgdGhpcy5zY29wZXMucG9wKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNjb3Blcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJyR9IHdpdGhvdXQgY29ycmVzcG9uZGluZyAkeycpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJyRjJykge1xyXG4gICAgICAgIG9rYXkgPSB0aGlzLnBhcnNlYygpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRva2VuID09PSAnJHYnKSB7XHJcbiAgICAgICAgb2theSA9IHRoaXMucGFyc2V2KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCB0b2tlbiAnICsgdG9rZW4gKyAnIGVuY291bnRlcmVkJyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghb2theSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMublByb29mQ291bnQgPj0gdGhpcy5uUHJvb2ZMaW1pdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQcm9vZiBsaW1pdCByZWFjaGVkJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSB2ZXJpZmllZCAnICsgdGhpcy5uUHJvb2ZDb3VudCArICcgcHJvb2ZzJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zY29wZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCckeyB3aXRob3V0IGNvcnJlc3BvbmRpbmcgJH0nKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgdmVyaWZpZWQgJyArIHRoaXMublByb29mQ291bnQgKyAnIHByb29mc1xcbicpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBFWElUX0ZBSUxVUkUgPSAxO1xyXG5cclxuZnVuY3Rpb24gbWFpbihhcmd2OiBzdHJpbmdbXSk6IG51bWJlciB7XHJcblxyXG4gIGNvbnN0IGNoZWNrbW06IENoZWNrTU0gPSBuZXcgQ2hlY2tNTSgpO1xyXG5cclxuICBpZiAoYXJndi5sZW5ndGggPT09IDMpIHtcclxuICAgIGNvbnN0IG5ld1Byb29mTGltaXQgPSBwYXJzZUludChhcmd2WzJdLCAxMCk7XHJcbiAgICBpZiAobmV3UHJvb2ZMaW1pdCkge1xyXG4gICAgICBjaGVja21tLm5Qcm9vZkxpbWl0ID0gbmV3UHJvb2ZMaW1pdDtcclxuICAgIH0gIGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHByb29mIGxpbWl0JyArIGFyZ3ZbMl0pO1xyXG4gICAgfVxyXG4gICAgYXJndi5wb3AoKTtcclxuICB9XHJcblxyXG4gIGlmIChhcmd2Lmxlbmd0aCAhPT0gMikge1xyXG4gICAgY29uc29sZS5lcnJvcignU3ludGF4OiBub2RlIGNoZWNrbW0uanMgPGZpbGVuYW1lPiBbPHByb29mLWxpbWl0Pl0nKTtcclxuICAgIHJldHVybiBFWElUX0ZBSUxVUkU7XHJcbiAgfVxyXG5cclxuICBjaGVja21tLnNldFN0YXRlKHt9KTtcclxuXHJcbiAgbGV0IG9rYXk6IGJvb2xlYW4gPSBjaGVja21tLnJlYWR0b2tlbnMoYXJndlsxXSk7XHJcbiAgaWYgKCFva2F5KSB7XHJcbiAgICByZXR1cm4gRVhJVF9GQUlMVVJFO1xyXG4gIH1cclxuXHJcbiAgb2theSA9IGNoZWNrbW0uY2hlY2ttbSgpO1xyXG4gIHJldHVybiBva2F5ID8gMCA6IEVYSVRfRkFJTFVSRTtcclxufVxyXG5cclxuLy8gQXJlIHdlIGJlaW5nIHJ1biBhcyBhIHByb2dyYW0gb3IgYSBsaWJyYXJ5P1xyXG5pZiAocHJvY2Vzcy5hcmd2Lmxlbmd0aCA+PSAyICYmIHBhdGguYmFzZW5hbWUocHJvY2Vzcy5hcmd2WzFdKSA9PT0gcGF0aC5iYXNlbmFtZShfX2ZpbGVuYW1lKSkge1xyXG4gIC8vIFdlIGFyZSBiZWluZyBydW4gYXMgYSBwcm9ncmFtXHJcbiAgcHJvY2Vzcy5leGl0Q29kZSA9IG1haW4ocHJvY2Vzcy5hcmd2LnNsaWNlKDEpKTtcclxufVxyXG5cclxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZVxuLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlxcKSBpbiB0aGUgYXJyYXlcbi8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaFxuLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKVxuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7XG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXJ0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBwYXJ0cy51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPVxuICAgIC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXlxcL10rP3wpKFxcLlteLlxcL10qfCkpKD86W1xcL10qKSQvO1xudmFyIHNwbGl0UGF0aCA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gIHJldHVybiBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKS5zbGljZSgxKTtcbn07XG5cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzb2x2ZWRQYXRoID0gJycsXG4gICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICB2YXIgcGF0aCA9IChpID49IDApID8gYXJndW1lbnRzW2ldIDogcHJvY2Vzcy5jd2QoKTtcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGlzQWJzb2x1dGUgPSBleHBvcnRzLmlzQWJzb2x1dGUocGF0aCksXG4gICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nO1xuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICBwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHBhdGggPSAnLic7XG4gIH1cbiAgaWYgKHBhdGggJiYgdHJhaWxpbmdTbGFzaCkge1xuICAgIHBhdGggKz0gJy8nO1xuICB9XG5cbiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDtcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmpvaW4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhdGhzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfSkuam9pbignLycpKTtcbn07XG5cblxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgdG8gPSBleHBvcnRzLnJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn07XG5cbmV4cG9ydHMuc2VwID0gJy8nO1xuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7XG5cbmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHJlc3VsdCA9IHNwbGl0UGF0aChwYXRoKSxcbiAgICAgIHJvb3QgPSByZXN1bHRbMF0sXG4gICAgICBkaXIgPSByZXN1bHRbMV07XG5cbiAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICByZXR1cm4gJy4nO1xuICB9XG5cbiAgaWYgKGRpcikge1xuICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoXG4gICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gcm9vdCArIGRpcjtcbn07XG5cblxuZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgLy8gVE9ETzogbWFrZSB0aGlzIGNvbXBhcmlzb24gY2FzZS1pbnNlbnNpdGl2ZSBvbiB3aW5kb3dzP1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuXG5leHBvcnRzLmV4dG5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBzcGxpdFBhdGgocGF0aClbM107XG59O1xuXG5mdW5jdGlvbiBmaWx0ZXIgKHhzLCBmKSB7XG4gICAgaWYgKHhzLmZpbHRlcikgcmV0dXJuIHhzLmZpbHRlcihmKTtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRThcbnZhciBzdWJzdHIgPSAnYWInLnN1YnN0cigtMSkgPT09ICdiJ1xuICAgID8gZnVuY3Rpb24gKHN0ciwgc3RhcnQsIGxlbikgeyByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKSB9XG4gICAgOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7XG4gICAgICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gc3RyLmxlbmd0aCArIHN0YXJ0O1xuICAgICAgICByZXR1cm4gc3RyLnN1YnN0cihzdGFydCwgbGVuKTtcbiAgICB9XG47XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xudmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbnZhciBjbG9uZWFibGVUYWdzID0ge307XG5jbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG5jbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9XG5jbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG5jbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPVxuY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbmNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG5jbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPVxuY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbmNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9XG5jbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKipcbiAqIEFkZHMgdGhlIGtleS12YWx1ZSBgcGFpcmAgdG8gYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyIFRoZSBrZXktdmFsdWUgcGFpciB0byBhZGQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBtYXBgLlxuICovXG5mdW5jdGlvbiBhZGRNYXBFbnRyeShtYXAsIHBhaXIpIHtcbiAgLy8gRG9uJ3QgcmV0dXJuIGBtYXAuc2V0YCBiZWNhdXNlIGl0J3Mgbm90IGNoYWluYWJsZSBpbiBJRSAxMS5cbiAgbWFwLnNldChwYWlyWzBdLCBwYWlyWzFdKTtcbiAgcmV0dXJuIG1hcDtcbn1cblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gYHNldGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBtb2RpZnkuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhZGQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBzZXRgLlxuICovXG5mdW5jdGlvbiBhZGRTZXRFbnRyeShzZXQsIHZhbHVlKSB7XG4gIC8vIERvbid0IHJldHVybiBgc2V0LmFkZGAgYmVjYXVzZSBpdCdzIG5vdCBjaGFpbmFibGUgaW4gSUUgMTEuXG4gIHNldC5hZGQodmFsdWUpO1xuICByZXR1cm4gc2V0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIGdldE1hcERhdGEodGhpcywga2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGNhY2hlID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGNhY2hlIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gY2FjaGUuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNhY2hlID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICAvLyBTYWZhcmkgOSBtYWtlcyBgYXJndW1lbnRzLmxlbmd0aGAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgdmFyIHJlc3VsdCA9IChpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpXG4gICAgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpXG4gICAgOiBbXTtcblxuICB2YXIgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aCxcbiAgICAgIHNraXBJbmRleGVzID0gISFsZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoa2V5ID09ICdsZW5ndGgnIHx8IGlzSW5kZXgoa2V5LCBsZW5ndGgpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Z1bGxdIFNwZWNpZnkgYSBjbG9uZSBpbmNsdWRpbmcgc3ltYm9scy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgaXNEZWVwLCBpc0Z1bGwsIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoY3VzdG9taXplcikge1xuICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgfVxuICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICBpZiAoaXNBcnIpIHtcbiAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG4gICAgaWYgKCFpc0RlZXApIHtcbiAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXG4gICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgIH1cbiAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICBpZiAoaXNIb3N0T2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IGluaXRDbG9uZU9iamVjdChpc0Z1bmMgPyB7fSA6IHZhbHVlKTtcbiAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBjb3B5U3ltYm9scyh2YWx1ZSwgYmFzZUFzc2lnbihyZXN1bHQsIHZhbHVlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghY2xvbmVhYmxlVGFnc1t0YWddKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgYmFzZUNsb25lLCBpc0RlZXApO1xuICAgIH1cbiAgfVxuICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gIGlmIChzdGFja2VkKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQ7XG4gIH1cbiAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gIGlmICghaXNBcnIpIHtcbiAgICB2YXIgcHJvcHMgPSBpc0Z1bGwgPyBnZXRBbGxLZXlzKHZhbHVlKSA6IGtleXModmFsdWUpO1xuICB9XG4gIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgIGlmIChwcm9wcykge1xuICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgaXNEZWVwLCBpc0Z1bGwsIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gYmFzZUNyZWF0ZShwcm90bykge1xuICByZXR1cm4gaXNPYmplY3QocHJvdG8pID8gb2JqZWN0Q3JlYXRlKHByb3RvKSA6IHt9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICBpZiAoaXNEZWVwKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGJ1ZmZlci5sZW5ndGgpO1xuICBidWZmZXIuY29weShyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICovXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY2xvbmUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbG9uZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNsb25lIHZhbHVlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgbWFwLlxuICovXG5mdW5jdGlvbiBjbG9uZU1hcChtYXAsIGlzRGVlcCwgY2xvbmVGdW5jKSB7XG4gIHZhciBhcnJheSA9IGlzRGVlcCA/IGNsb25lRnVuYyhtYXBUb0FycmF5KG1hcCksIHRydWUpIDogbWFwVG9BcnJheShtYXApO1xuICByZXR1cm4gYXJyYXlSZWR1Y2UoYXJyYXksIGFkZE1hcEVudHJ5LCBuZXcgbWFwLmNvbnN0cnVjdG9yKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gKi9cbmZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgc2V0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNsb25lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2xvbmVGdW5jIFRoZSBmdW5jdGlvbiB0byBjbG9uZSB2YWx1ZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHNldC5cbiAqL1xuZnVuY3Rpb24gY2xvbmVTZXQoc2V0LCBpc0RlZXAsIGNsb25lRnVuYykge1xuICB2YXIgYXJyYXkgPSBpc0RlZXAgPyBjbG9uZUZ1bmMoc2V0VG9BcnJheShzZXQpLCB0cnVlKSA6IHNldFRvQXJyYXkoc2V0KTtcbiAgcmV0dXJuIGFycmF5UmVkdWNlKGFycmF5LCBhZGRTZXRFbnRyeSwgbmV3IHNldC5jb25zdHJ1Y3Rvcik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xufVxuXG4vKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlID09PSB1bmRlZmluZWQgPyBzb3VyY2Vba2V5XSA6IG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENvcGllcyBvd24gc3ltYm9sIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9sIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSBuYXRpdmVHZXRTeW1ib2xzID8gb3ZlckFyZyhuYXRpdmVHZXRTeW1ib2xzLCBPYmplY3QpIDogc3R1YkFycmF5O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEsXG4vLyBmb3IgZGF0YSB2aWV3cyBpbiBFZGdlIDwgMTQsIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzLlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gKi9cbmZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICovXG5mdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICA6IHt9O1xufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNsb25lRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2xvbmUgdmFsdWVzLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICovXG5mdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgY2xvbmVGdW5jLCBpc0RlZXApIHtcbiAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICBjYXNlIG1hcFRhZzpcbiAgICAgIHJldHVybiBjbG9uZU1hcChvYmplY3QsIGlzRGVlcCwgY2xvbmVGdW5jKTtcblxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICByZXR1cm4gY2xvbmVTZXQob2JqZWN0LCBpc0RlZXAsIGNsb25lRnVuYyk7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMS4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAqIEBzZWUgXy5jbG9uZVxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IFt7ICdhJzogMSB9LCB7ICdiJzogMiB9XTtcbiAqXG4gKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICogY29uc29sZS5sb2coZGVlcFswXSA9PT0gb2JqZWN0c1swXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHtcbiAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgdHJ1ZSwgdHJ1ZSk7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2xvbmVEZWVwO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==